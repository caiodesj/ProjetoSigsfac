"use strict";(self.webpackChunksigsfac=self.webpackChunksigsfac||[]).push([[975],{3975:(Co,pt,D)=>{D.r(pt),D.d(pt,{CalendarWeekModule:()=>yo});var Cn=D(5539),Dn=D(8920),w=D(9808),i=D(5e3),Y=D(7579),ae=D(8306),_n=D(9646),ht=D(5963),Tn=D(1135),En=D(4986),j=D(2722),Ve=D(3900),vt=D(8675),xn=D(576),z=D(4004),Mn=function(){function t(){}return t.prototype.getAllStyles=function(n){return window.getComputedStyle(n)},t.prototype.getStyle=function(n,e){return this.getAllStyles(n)[e]},t.prototype.isStaticPositioned=function(n){return"static"===(this.getStyle(n,"position")||"static")},t.prototype.offsetParent=function(n){for(var e=n.offsetParent||document.documentElement;e&&e!==document.documentElement&&this.isStaticPositioned(e);)e=e.offsetParent;return e||document.documentElement},t.prototype.position=function(n,e){void 0===e&&(e=!0);var r,a={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(n,"position"))r={top:(r=n.getBoundingClientRect()).top,bottom:r.bottom,left:r.left,right:r.right,height:r.height,width:r.width};else{var o=this.offsetParent(n);r=this.offset(n,!1),o!==document.documentElement&&(a=this.offset(o,!1)),a.top+=o.clientTop,a.left+=o.clientLeft}return r.top-=a.top,r.bottom-=a.top,r.left-=a.left,r.right-=a.left,e&&(r.top=Math.round(r.top),r.bottom=Math.round(r.bottom),r.left=Math.round(r.left),r.right=Math.round(r.right)),r},t.prototype.offset=function(n,e){void 0===e&&(e=!0);var r=n.getBoundingClientRect(),a_top=window.pageYOffset-document.documentElement.clientTop,a_left=window.pageXOffset-document.documentElement.clientLeft,o={height:r.height||n.offsetHeight,width:r.width||n.offsetWidth,top:r.top+a_top,bottom:r.bottom+a_top,left:r.left+a_left,right:r.right+a_left};return e&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},t.prototype.positionElements=function(n,e,r,a){var o=r.split("-"),s=o[0],l=void 0===s?"top":s,c=o[1],d=void 0===c?"center":c,u=a?this.offset(n,!1):this.position(n,!1),p=this.getAllStyles(e),f=parseFloat(p.marginTop),m=parseFloat(p.marginBottom),v=parseFloat(p.marginLeft),T=parseFloat(p.marginRight),y=0,_=0;switch(l){case"top":y=u.top-(e.offsetHeight+f+m);break;case"bottom":y=u.top+u.height;break;case"left":_=u.left-(e.offsetWidth+v+T);break;case"right":_=u.left+u.width}switch(d){case"top":y=u.top;break;case"bottom":y=u.top+u.height-e.offsetHeight;break;case"left":_=u.left;break;case"right":_=u.left+u.width-e.offsetWidth;break;case"center":"top"===l||"bottom"===l?_=u.left+u.width/2-e.offsetWidth/2:y=u.top+u.height/2-e.offsetHeight/2}e.style.transform="translate("+Math.round(_)+"px, "+Math.round(y)+"px)";var x=e.getBoundingClientRect(),C=document.documentElement,S=window.innerHeight||C.clientHeight,O=window.innerWidth||C.clientWidth;return x.left>=0&&x.top>=0&&x.right<=O&&x.bottom<=S},t}(),bn=/\s+/,ft=new Mn,N=function(){return N=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var a in n=arguments[e])Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a]);return t},N.apply(this,arguments)},gt=function(){for(var t=0,n=0,e=arguments.length;n<e;n++)t+=arguments[n].length;var r=Array(t),a=0;for(n=0;n<e;n++)for(var o=arguments[n],s=0,l=o.length;s<l;s++,a++)r[a]=o[s];return r},oe=(()=>{return(t=oe||(oe={}))[t.SUNDAY=0]="SUNDAY",t[t.MONDAY=1]="MONDAY",t[t.TUESDAY=2]="TUESDAY",t[t.WEDNESDAY=3]="WEDNESDAY",t[t.THURSDAY=4]="THURSDAY",t[t.FRIDAY=5]="FRIDAY",t[t.SATURDAY=6]="SATURDAY",oe;var t})(),Hn=[oe.SUNDAY,oe.SATURDAY],Q=86400;function yt(t,n){var e=n.startDate,a=n.excluded,o=n.precision;if(a.length<1)return 0;for(var l=t.getDay,c=t.addDays,d=(0,t.addSeconds)(e,n.seconds-1),u=l(e),p=l(d),f=0,m=e,v=function(){var T=l(m);a.some(function(y){return y===T})&&(f+=function An(t,n){var r=n.day,o=n.dayEnd,s=n.startDate,l=n.endDate,c=t.differenceInSeconds,u=t.startOfDay;if("minutes"===n.precision){if(r===n.dayStart)return c((0,t.endOfDay)(s),s)+1;if(r===o)return c(l,u(l))+1}return Q}(t,{dayStart:u,dayEnd:p,day:T,precision:o,startDate:e,endDate:d})),m=c(m,1)};m<d;)v();return f}function se(t,n){var r=n.periodStart,a=n.periodEnd;return n.events.filter(function(o){return function Vn(t,n){var e=n.event,r=n.periodStart,a=n.periodEnd,o=t.isSameSecond,s=e.start,l=e.end||e.start;return!!(s>r&&s<a||l>r&&l<a||s<r&&l>a||o(s,r)||o(s,a)||o(l,r)||o(l,a))}(t,{event:o,periodStart:r,periodEnd:a})})}function wt(t,n){var e=n.date,r=n.weekendDays,a=void 0===r?Hn:r,s=t.isSameDay,l=t.getDay,c=(0,t.startOfDay)(new Date),d=l(e);return{date:e,day:d,isPast:e<c,isToday:s(e,c),isFuture:e>c,isWeekend:a.indexOf(d)>-1}}function Re(t,n){for(var a=n.excluded,o=void 0===a?[]:a,s=n.weekendDays,l=n.viewStart,c=void 0===l?t.startOfWeek(n.viewDate,{weekStartsOn:n.weekStartsOn}):l,d=n.viewEnd,u=void 0===d?t.addDays(c,7):d,p=t.addDays,f=t.getDay,m=[],v=c;v<u;)o.some(function(T){return f(v)===T})||m.push(wt(t,{date:v,weekendDays:s})),v=p(v,1);return m}function zn(t,n){var e=n.events,r=void 0===e?[]:e,a=n.excluded,o=void 0===a?[]:a,s=n.precision,l=void 0===s?"days":s,c=n.absolutePositionedEvents,d=void 0!==c&&c,u=n.viewStart,p=n.viewEnd;u=t.startOfDay(u),p=t.endOfDay(p);var f=t.differenceInSeconds,m=t.differenceInDays,v=function In(t,n){for(var r=n.date2,a=n.excluded,o=n.date1,s=0;o<r;)-1===a.indexOf(t.getDay(o))&&s++,o=t.addDays(o,1);return s}(t,{date1:u,date2:p,excluded:o}),T=m(p,u)+1,y=r.filter(function(C){return C.allDay}).map(function(C){var S=function Fn(t,n){var e=n.event,r=n.startOfWeek,a=n.excluded,o=n.precision,s=t.differenceInDays,l=t.startOfDay,c=t.differenceInSeconds;if(e.start<r)return 0;var d=0;switch(o){case"days":d=s(l(e.start),r)*Q;break;case"minutes":d=c(e.start,r)}return d-=yt(t,{startDate:r,seconds:d,excluded:a,precision:o}),Math.abs(d/Q)}(t,{event:C,startOfWeek:u,excluded:o,precision:l}),O=function Wn(t,n){var e=n.event,r=n.offset,o=n.excluded,s=n.precision,l=n.totalDaysInView,d=t.differenceInSeconds,u=t.addDays,p=t.endOfDay,f=t.differenceInDays,m=Q,v=(0,t.max)([e.start,n.startOfWeekDate]);e.end&&(m="minutes"===s?d(e.end,v):f(u(p(e.end),1),v)*Q);var T=r*Q,_=l*Q;return T+m>_&&(m=_-T),(m-=yt(t,{startDate:v,seconds:m,excluded:o,precision:s}))/Q}(t,{event:C,offset:S,startOfWeekDate:u,excluded:o,precision:l,totalDaysInView:T});return{event:C,offset:S,span:O}}).filter(function(C){return C.offset<v}).filter(function(C){return C.span>0}).map(function(C){return{event:C.event,offset:C.offset,span:C.span,startsBeforeWeek:C.event.start<u,endsAfterWeek:(C.event.end||C.event.start)>p}}).sort(function(C,S){var O=f(C.event.start,S.event.start);return 0===O?f(S.event.end||S.event.start,C.event.end||C.event.start):O}),_=[],x=[];return y.forEach(function(C,S){if(-1===x.indexOf(C)){x.push(C);var O=C.span+C.offset,F=y.slice(S+1).filter(function(M){if(M.offset>=O&&O+M.span<=T&&-1===x.indexOf(M)){var k=M.offset-O;return d||(M.offset=k),O+=M.span+k,x.push(M),!0}}),V=gt([C],F),H=V.filter(function(M){return M.event.id}).map(function(M){return M.event.id}).join("-");_.push(N({row:V},H?{id:H}:{}))}}),_}function Rn(t,n){var e=n.events,r=n.viewDate,a=n.hourSegments,o=n.hourDuration,s=n.dayStart,l=n.dayEnd,c=n.weekStartsOn,d=n.excluded,u=n.weekendDays,p=n.segmentHeight,f=n.viewStart,m=n.viewEnd,v=n.minimumEventHeight,T=function Nn(t,n){var e=n.viewDate,r=n.hourSegments,a=n.hourDuration,o=n.dayStart,s=n.dayEnd,l=t.setMinutes,c=t.setHours,d=t.startOfDay,u=t.startOfMinute,p=t.endOfDay,f=t.addMinutes,v=t.addDays,T=[],y=l(c(d(e),we(o.hour)),Ce(o.minute)),_=l(c(u(p(e)),we(s.hour)),Ce(s.minute)),x=(a||60)/r,C=d(e),S=p(e),O=function(g){return g};t.getTimezoneOffset(C)!==t.getTimezoneOffset(S)&&(C=v(C,1),y=v(y,1),_=v(_,1),O=function(g){return v(g,-1)});for(var F=a?1440/a:60,V=0;V<F;V++){for(var H=[],M=0;M<r;M++){var k=f(f(y,V*(a||60)),M*x);k>=y&&k<_&&H.push({date:O(k),displayDate:k,isStart:0===M})}H.length>0&&T.push({segments:H})}return T}(t,{viewDate:r,hourSegments:a,hourDuration:o,dayStart:s,dayEnd:l}),y=Re(t,{viewDate:r,weekStartsOn:c,excluded:d,weekendDays:u,viewStart:f,viewEnd:m}),_=t.setHours,x=t.setMinutes,C=t.getHours,S=t.getMinutes;return y.map(function(O){var F=function Ln(t,n){var e=n.events,r=n.viewDate,a=n.hourSegments,o=n.dayStart,s=n.dayEnd,l=n.eventWidth,c=n.segmentHeight,d=n.hourDuration,u=n.minimumEventHeight,p=t.setMinutes,f=t.setHours,m=t.startOfDay,v=t.startOfMinute,T=t.endOfDay,y=t.differenceInMinutes,_=p(f(m(r),we(o.hour)),Ce(o.minute)),x=p(f(v(T(r)),we(s.hour)),Ce(s.minute));x.setSeconds(59,999);var C=[],S=se(t,{events:e.filter(function(H){return!H.allDay}),periodStart:_,periodEnd:x}),O=S.sort(function(H,M){return H.start.valueOf()-M.start.valueOf()}).map(function(H){var M=H.start,k=H.end||M,g=M<_,h=k>x,W=a*c/(d||60),A=0;if(M>_){var We=t.getTimezoneOffset(M),dt=t.getTimezoneOffset(_)-We;A+=y(M,_)+dt}A*=W,A=Math.floor(A);var fe=g?_:M,ct=h?x:k,B=t.getTimezoneOffset(fe)-t.getTimezoneOffset(ct),L=y(ct,fe)+B;H.end?L*=W:L=c,u&&L<u&&(L=u),L=Math.floor(L);for(var ut=ye(C,A,A+L),mt=0;ut.some(function(wo){return wo.left===mt});)mt+=l;var wn={event:H,height:L,width:l,top:A,left:mt,startsBeforeDay:g,endsAfterDay:h};return C.push(wn),wn}),F=Math.max.apply(Math,O.map(function(H){return H.left+H.width})),V=se(t,{events:e.filter(function(H){return H.allDay}),periodStart:m(_),periodEnd:T(x)});return{events:O,width:F,allDayEvents:V,period:{events:S,start:_,end:x}}}(t,{events:e,viewDate:O.date,hourSegments:a,dayStart:s,dayEnd:l,segmentHeight:p,eventWidth:1,hourDuration:o,minimumEventHeight:v}),V=T.map(function(k){var g=k.segments.map(function(h){var W=x(_(O.date,C(h.date)),S(h.date));return N(N({},h),{date:W})});return N(N({},k),{segments:g})});function H(k,g){var h=Math.max.apply(Math,g.map(function(A){return A.left+1})),W=k.filter(function(A){return A.left>=h}).filter(function(A){return ye(g,A.top,A.top+A.height).length>0});return W.length>0?H(k,W):h}var M=F.events.map(function(k){var h=100/H(F.events,ye(F.events,k.top,k.top+k.height));return N(N({},k),{left:k.left*h,width:h})});return{hours:V,date:O.date,events:M.map(function(k){var g=ye(M.filter(function(h){return h.left>k.left}),k.top,k.top+k.height);return g.length>0?N(N({},k),{width:Math.min.apply(Math,g.map(function(h){return h.left}))-k.left}):k})}})}function ye(t,n,e){return t.filter(function(r){var a=r.top,o=r.top+r.height;return n<o&&o<e||n<a&&a<e||a<=n&&e<=o})}function we(t){return Math.max(Math.min(23,t),0)}function Ce(t){return Math.max(Math.min(59,t),0)}var G=(()=>{return(t=G||(G={})).NotArray="Events must be an array",t.StartPropertyMissing="Event is missing the `start` property",t.StartPropertyNotDate="Event `start` property should be a javascript date object. Do `new Date(event.start)` to fix it.",t.EndPropertyNotDate="Event `end` property should be a javascript date object. Do `new Date(event.end)` to fix it.",t.EndsBeforeStart="Event `start` property occurs after the `end`",G;var t})(),$n=D(6063);class Zn extends Y.x{constructor(n=1/0,e=1/0,r=$n.l){super(),this._bufferSize=n,this._windowTime=e,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,e)}next(n){const{isStopped:e,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:o,_windowTime:s}=this;e||(r.push(n),!a&&r.push(o.now()+s)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:a}=this,o=a.slice();for(let s=0;s<o.length&&!n.closed;s+=r?1:2)n.next(o[s]);return this._checkFinalizedStatuses(n),e}_trimBuffer(){const{_bufferSize:n,_timestampProvider:e,_buffer:r,_infiniteTimeWindow:a}=this,o=(a?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!a){const s=e.now();let l=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)l=c;l&&r.splice(0,l+1)}}}var Z=D(6451),Un=D(9841),Be=D(4968),P=D(9300),Ye=D(5577),U=D(3099),le=D(5698),Jn=D(2035),Xn=D(7359),Ct=D(4482);var Gn=D(5403);function Le(){return(0,Ct.e)((t,n)=>{let e,r=!1;t.subscribe((0,Gn.x)(n,a=>{const o=e;e=a,r&&n.next([o,a]),r=!0}))})}var qn=D(1884);function Ne(t,n){return t=function Kn(t,n){return void 0===t?void 0===n?t:n:t}(t,n),"function"==typeof t?function(){for(var r=arguments,a=arguments.length,o=Array(a),s=0;s<a;s++)o[s]=r[s];return!!t.apply(this,o)}:t?function(){return!0}:function(){return!1}}var Pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Dt=function(t){return null!=t&&"object"===(void 0===t?"undefined":Pe(t))&&1===t.nodeType&&"object"===Pe(t.style)&&"object"===Pe(t.ownerDocument)};function _t(t,n){if(n=Ze(n,!0),!Dt(n))return-1;for(var e=0;e<t.length;e++)if(t[e]===n)return e;return-1}function $e(t,n){return-1!==_t(t,n)}function ei(t,n){for(var e=0;e<n.length;e++)$e(t,n[e])||t.push(n[e]);return n}function ti(t){for(var n=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=n[r+1];return ei(t,e=e.map(Ze))}function ni(t){for(var n=arguments,e=[],r=arguments.length-1;r-- >0;)e[r]=n[r+1];return e.map(Ze).reduce(function(a,o){var s=_t(t,o);return-1!==s?a.concat(t.splice(s,1)):a},[])}function Ze(t,n){if("string"==typeof t)try{return document.querySelector(t)}catch(e){throw e}if(!Dt(t)&&!n)throw new TypeError(t+" is not a DOM element.");return t}function Tt(t){if(t===window)return function ri(){var t={top:{value:0,enumerable:!0},left:{value:0,enumerable:!0},right:{value:window.innerWidth,enumerable:!0},bottom:{value:window.innerHeight,enumerable:!0},width:{value:window.innerWidth,enumerable:!0},height:{value:window.innerHeight,enumerable:!0},x:{value:0,enumerable:!0},y:{value:0,enumerable:!0}};if(Object.create)return Object.create({},t);var n={};return Object.defineProperties(n,t),n}();try{var n=t.getBoundingClientRect();return void 0===n.x&&(n.x=n.left,n.y=n.top),n}catch(e){throw new TypeError("Can't call getBoundingClientRect on "+t)}}var n,Ue=void 0;"function"!=typeof Object.create?(n=function(){},Ue=function(e,r){if(e!==Object(e)&&null!==e)throw TypeError("Argument must be an object, or null");n.prototype=e||{};var a=new n;return n.prototype=null,void 0!==r&&Object.defineProperties(a,r),null===e&&(a.__proto__=null),a}):Ue=Object.create;var oi=Ue,q=["altKey","button","buttons","clientX","clientY","ctrlKey","metaKey","movementX","movementY","offsetX","offsetY","pageX","pageY","region","relatedTarget","screenX","screenY","shiftKey","which","x","y"];function Je(t,n){n=n||{};for(var e=oi(t),r=0;r<q.length;r++)void 0!==n[q[r]]&&(e[q[r]]=n[q[r]]);return e}function Xe(t,n){console.log("data ",n),t.data=n||{},t.dispatched="mousemove"}var de=["webkit","moz","ms","o"],ce=function(){if("undefined"==typeof window)return function(){};for(var t=0,n=de.length;t<n&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window[de[t]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var e=0;window.requestAnimationFrame=function(r){var a=(new Date).getTime(),o=Math.max(0,16-a-e),s=window.setTimeout(function(){return r(a+o)},o);return e=a+o,s}}return window.requestAnimationFrame.bind(window)}(),ne=function(){if("undefined"==typeof window)return function(){};for(var t=0,n=de.length;t<n&&!window.cancelAnimationFrame;++t)window.cancelAnimationFrame=window[de[t]+"CancelAnimationFrame"]||window[de[t]+"CancelRequestAnimationFrame"];return window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();function li(t,n){void 0===n&&(n={});var e=this,r=4,a=!1;if("object"!=typeof n.margin){var o=n.margin||-1;this.margin={left:o,right:o,top:o,bottom:o}}else this.margin=n.margin;this.scrollWhenOutside=n.scrollWhenOutside||!1;var s={},l=function ii(t,n){var e=Ne((n=n||{}).allowUpdate,!0);return function(a){if(a=a||window.event,t.target=a.target||a.srcElement||a.originalTarget,t.element=this,t.type=a.type,e(a)){if(a.targetTouches)t.x=a.targetTouches[0].clientX,t.y=a.targetTouches[0].clientY,t.pageX=a.targetTouches[0].pageX,t.pageY=a.targetTouches[0].pageY,t.screenX=a.targetTouches[0].screenX,t.screenY=a.targetTouches[0].screenY;else{if(null===a.pageX&&null!==a.clientX){var o=a.target&&a.target.ownerDocument||document,s=o.documentElement,l=o.body;t.pageX=a.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),t.pageY=a.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}else t.pageX=a.pageX,t.pageY=a.pageY;t.x=a.clientX,t.y=a.clientY,t.screenX=a.screenX,t.screenY=a.screenY}t.clientX=t.x,t.clientY=t.y}}}(s),c=function si(t){var n={screenX:0,screenY:0,clientX:0,clientY:0,ctrlKey:!1,shiftKey:!1,altKey:!1,metaKey:!1,button:0,buttons:1,relatedTarget:null,region:null};function e(o){for(var s=0;s<q.length;s++)n[q[s]]=o[q[s]]}return void 0!==t&&t.addEventListener("mousemove",e),{destroy:function a(){t&&t.removeEventListener("mousemove",e,!1),n=null},dispatch:MouseEvent?function(s,l,c){var d=new MouseEvent("mousemove",Je(n,l));return Xe(d,c),s.dispatchEvent(d)}:"function"==typeof document.createEvent?function(s,l,c){var d=Je(n,l),u=document.createEvent("MouseEvents");return u.initMouseEvent("mousemove",!0,!0,window,0,d.screenX,d.screenY,d.clientX,d.clientY,d.ctrlKey,d.altKey,d.shiftKey,d.metaKey,d.button,d.relatedTarget),Xe(u,c),s.dispatchEvent(u)}:"function"==typeof document.createEventObject?function(s,l,c){var d=document.createEventObject(),u=Je(n,l);for(var p in u)d[p]=u[p];return Xe(d,c),s.dispatchEvent(d)}:void 0}}(),d=!1;window.addEventListener("mousemove",l,!1),window.addEventListener("touchmove",l,!1),isNaN(n.maxSpeed)||(r=n.maxSpeed),"object"!=typeof r&&(r={left:r,right:r,top:r,bottom:r}),this.autoScroll=Ne(n.autoScroll),this.syncMove=Ne(n.syncMove,!1),this.destroy=function(g){window.removeEventListener("mousemove",l,!1),window.removeEventListener("touchmove",l,!1),window.removeEventListener("mousedown",T,!1),window.removeEventListener("touchstart",T,!1),window.removeEventListener("mouseup",y,!1),window.removeEventListener("touchend",y,!1),window.removeEventListener("pointerup",y,!1),window.removeEventListener("mouseleave",x,!1),window.removeEventListener("mousemove",O,!1),window.removeEventListener("touchmove",O,!1),window.removeEventListener("scroll",v,!0),t=[],g&&_()},this.add=function(){for(var g=[],h=arguments.length;h--;)g[h]=arguments[h];return ti.apply(void 0,[t].concat(g)),this},this.remove=function(){for(var g=[],h=arguments.length;h--;)g[h]=arguments[h];return ni.apply(void 0,[t].concat(g))};var p,g,u=null;"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]),g=t,t=[],g.forEach(function(h){h===window?u=window:e.add(h)}),Object.defineProperties(this,{down:{get:function(){return d}},maxSpeed:{get:function(){return r}},point:{get:function(){return s}},scrolling:{get:function(){return a}}});var m,f=null;function v(g){for(var h=0;h<t.length;h++)if(t[h]===g.target){a=!0;break}a&&ce(function(){return a=!1})}function T(){d=!0}function y(){d=!1,_()}function _(){ne(m),ne(p)}function x(){d=!1}function S(){for(var g=null,h=0;h<t.length;h++)Et(s,t[h])&&(g=t[h]);return g}function O(g){if(e.autoScroll()&&!g.dispatched){var h=g.target,W=document.body;f&&!Et(s,f)&&(e.scrollWhenOutside||(f=null)),h&&h.parentNode===W?h=S():(h=function C(g){if(!g)return null;if(f===g||$e(t,g))return g;for(;g=g.parentNode;)if($e(t,g))return g;return null}(h),h||(h=S())),h&&h!==f&&(f=h),u&&(ne(p),p=ce(F)),f&&(ne(m),m=ce(V))}}function F(){H(u),ne(p),p=ce(F)}function V(){!f||(H(f),ne(m),m=ce(V))}function H(g){var W,A,h=Tt(g);W=s.x<h.left+e.margin.left?Math.floor(Math.max(-1,(s.x-h.left)/e.margin.left-1)*e.maxSpeed.left):s.x>h.right-e.margin.right?Math.ceil(Math.min(1,(s.x-h.right)/e.margin.right+1)*e.maxSpeed.right):0,A=s.y<h.top+e.margin.top?Math.floor(Math.max(-1,(s.y-h.top)/e.margin.top-1)*e.maxSpeed.top):s.y>h.bottom-e.margin.bottom?Math.ceil(Math.min(1,(s.y-h.bottom)/e.margin.bottom+1)*e.maxSpeed.bottom):0,e.syncMove()&&c.dispatch(g,{pageX:s.pageX+W,pageY:s.pageY+A,clientX:s.x+W,clientY:s.y+A}),setTimeout(function(){A&&function M(g,h){g===window?window.scrollTo(g.pageXOffset,g.pageYOffset+h):g.scrollTop+=h}(g,A),W&&function k(g,h){g===window?window.scrollTo(g.pageXOffset+h,g.pageYOffset):g.scrollLeft+=h}(g,W)})}window.addEventListener("mousedown",T,!1),window.addEventListener("touchstart",T,!1),window.addEventListener("mouseup",y,!1),window.addEventListener("touchend",y,!1),window.addEventListener("pointerup",y,!1),window.addEventListener("mousemove",O,!1),window.addEventListener("touchmove",O,!1),window.addEventListener("mouseleave",x,!1),window.addEventListener("scroll",v,!0)}function Et(t,n,e){return e?t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right:function ai(t,n){var e=Tt(n);return t.y>e.top&&t.y<e.bottom&&t.x>e.left&&t.x<e.right}(t,n)}function je(t,n,e){e&&e.split(" ").forEach(r=>t.addClass(n.nativeElement,r))}function De(t,n,e){e&&e.split(" ").forEach(r=>t.removeClass(n.nativeElement,r))}let kt=(()=>{class t{constructor(){this.currentDrag=new Y.x}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xt=(()=>{class t{constructor(e){this.elementRef=e}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlDraggableScrollContainer",""]]}),t})(),ui=(()=>{class t{constructor(e,r,a,o,s,l,c){this.element=e,this.renderer=r,this.draggableHelper=a,this.zone=o,this.vcr=s,this.scrollContainer=l,this.document=c,this.dragAxis={x:!0,y:!0},this.dragSnapGrid={},this.ghostDragEnabled=!0,this.showOriginalElementWhileDragging=!1,this.dragCursor="",this.autoScroll={margin:20},this.dragPointerDown=new i.vpe,this.dragStart=new i.vpe,this.ghostElementCreated=new i.vpe,this.dragging=new i.vpe,this.dragEnd=new i.vpe,this.pointerDown$=new Y.x,this.pointerMove$=new Y.x,this.pointerUp$=new Y.x,this.eventListenerSubscriptions={},this.destroy$=new Y.x,this.timeLongPress={timerBegin:0,timerEnd:0}}ngOnInit(){this.checkEventListeners();const e=this.pointerDown$.pipe((0,P.h)(()=>this.canDrag()),(0,Ye.z)(r=>{r.event.stopPropagation&&!this.scrollContainer&&r.event.stopPropagation();const a=this.renderer.createElement("style");this.renderer.setAttribute(a,"type","text/css"),this.renderer.appendChild(a,this.renderer.createText("\n          body * {\n           -moz-user-select: none;\n           -ms-user-select: none;\n           -webkit-user-select: none;\n           user-select: none;\n          }\n        ")),requestAnimationFrame(()=>{this.document.head.appendChild(a)});const o=this.getScrollPosition(),s=new ae.y(m=>this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",T=>m.next(T))).pipe((0,vt.O)(o),(0,z.U)(()=>this.getScrollPosition())),l=new Y.x,c=new Zn;this.dragPointerDown.observers.length>0&&this.zone.run(()=>{this.dragPointerDown.next({x:0,y:0})});const d=(0,Z.T)(this.pointerUp$,this.pointerDown$,c,this.destroy$).pipe((0,U.B)()),u=(0,Un.a)([this.pointerMove$,s]).pipe((0,z.U)(([m,v])=>({currentDrag$:l,transformX:m.clientX-r.clientX,transformY:m.clientY-r.clientY,clientX:m.clientX,clientY:m.clientY,scrollLeft:v.left,scrollTop:v.top,target:m.event.target})),(0,z.U)(m=>(this.dragSnapGrid.x&&(m.transformX=Math.round(m.transformX/this.dragSnapGrid.x)*this.dragSnapGrid.x),this.dragSnapGrid.y&&(m.transformY=Math.round(m.transformY/this.dragSnapGrid.y)*this.dragSnapGrid.y),m)),(0,z.U)(m=>(this.dragAxis.x||(m.transformX=0),this.dragAxis.y||(m.transformY=0),m)),(0,z.U)(m=>{const v=m.scrollLeft-o.left,T=m.scrollTop-o.top;return Object.assign(Object.assign({},m),{x:m.transformX+v,y:m.transformY+T})}),(0,P.h)(({x:m,y:v,transformX:T,transformY:y})=>!this.validateDrag||this.validateDrag({x:m,y:v,transform:{x:T,y}})),(0,j.R)(d),(0,U.B)()),p=u.pipe((0,le.q)(1),(0,U.B)()),f=u.pipe((0,Jn.h)(1),(0,U.B)());return p.subscribe(({clientX:m,clientY:v,x:T,y})=>{if(this.dragStart.observers.length>0&&this.zone.run(()=>{this.dragStart.next({cancelDrag$:c})}),this.scroller=function di(t,n){return new li(t,n)}([this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.defaultView],Object.assign(Object.assign({},this.autoScroll),{autoScroll:()=>!0})),je(this.renderer,this.element,this.dragActiveClass),this.ghostDragEnabled){const _=this.element.nativeElement.getBoundingClientRect(),x=this.element.nativeElement.cloneNode(!0);if(this.showOriginalElementWhileDragging||this.renderer.setStyle(this.element.nativeElement,"visibility","hidden"),this.ghostElementAppendTo?this.ghostElementAppendTo.appendChild(x):this.element.nativeElement.parentNode.insertBefore(x,this.element.nativeElement.nextSibling),this.ghostElement=x,this.document.body.style.cursor=this.dragCursor,this.setElementStyles(x,{position:"fixed",top:`${_.top}px`,left:`${_.left}px`,width:`${_.width}px`,height:`${_.height}px`,cursor:this.dragCursor,margin:"0",willChange:"transform",pointerEvents:"none"}),this.ghostElementTemplate){const C=this.vcr.createEmbeddedView(this.ghostElementTemplate);x.innerHTML="",C.rootNodes.filter(S=>S instanceof Node).forEach(S=>{x.appendChild(S)}),f.subscribe(()=>{this.vcr.remove(this.vcr.indexOf(C))})}this.ghostElementCreated.observers.length>0&&this.zone.run(()=>{this.ghostElementCreated.emit({clientX:m-T,clientY:v-y,element:x})}),f.subscribe(()=>{x.parentElement.removeChild(x),this.ghostElement=null,this.renderer.setStyle(this.element.nativeElement,"visibility","")})}this.draggableHelper.currentDrag.next(l)}),f.pipe((0,Ye.z)(m=>{const v=c.pipe(function Qn(t){return function jn(t,n){return(0,Ct.e)((0,Xn.U)(t,n,arguments.length>=2,!1,!0))}((n,e,r)=>!t||t(e,r)?n+1:n,0)}(),(0,le.q)(1),(0,z.U)(T=>Object.assign(Object.assign({},m),{dragCancelled:T>0})));return c.complete(),v})).subscribe(({x:m,y:v,dragCancelled:T})=>{this.scroller.destroy(),this.dragEnd.observers.length>0&&this.zone.run(()=>{this.dragEnd.next({x:m,y:v,dragCancelled:T})}),De(this.renderer,this.element,this.dragActiveClass),l.complete()}),(0,Z.T)(d,f).pipe((0,le.q)(1)).subscribe(()=>{requestAnimationFrame(()=>{this.document.head.removeChild(a)})}),u}),(0,U.B)());(0,Z.T)(e.pipe((0,le.q)(1),(0,z.U)(r=>[,r])),e.pipe(Le())).pipe((0,P.h)(([r,a])=>!r||r.x!==a.x||r.y!==a.y),(0,z.U)(([r,a])=>a)).subscribe(({x:r,y:a,currentDrag$:o,clientX:s,clientY:l,transformX:c,transformY:d,target:u})=>{this.dragging.observers.length>0&&this.zone.run(()=>{this.dragging.next({x:r,y:a})}),requestAnimationFrame(()=>{if(this.ghostElement){const p=`translate3d(${c}px, ${d}px, 0px)`;this.setElementStyles(this.ghostElement,{transform:p,"-webkit-transform":p,"-ms-transform":p,"-moz-transform":p,"-o-transform":p})}}),o.next({clientX:s,clientY:l,dropData:this.dropData,target:u})})}ngOnChanges(e){e.dragAxis&&this.checkEventListeners()}ngOnDestroy(){this.unsubscribeEventListeners(),this.pointerDown$.complete(),this.pointerMove$.complete(),this.pointerUp$.complete(),this.destroy$.next()}checkEventListeners(){const e=this.canDrag(),r=Object.keys(this.eventListenerSubscriptions).length>0;e&&!r?this.zone.runOutsideAngular(()=>{this.eventListenerSubscriptions.mousedown=this.renderer.listen(this.element.nativeElement,"mousedown",a=>{this.onMouseDown(a)}),this.eventListenerSubscriptions.mouseup=this.renderer.listen("document","mouseup",a=>{this.onMouseUp(a)}),this.eventListenerSubscriptions.touchstart=this.renderer.listen(this.element.nativeElement,"touchstart",a=>{this.onTouchStart(a)}),this.eventListenerSubscriptions.touchend=this.renderer.listen("document","touchend",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.touchcancel=this.renderer.listen("document","touchcancel",a=>{this.onTouchEnd(a)}),this.eventListenerSubscriptions.mouseenter=this.renderer.listen(this.element.nativeElement,"mouseenter",()=>{this.onMouseEnter()}),this.eventListenerSubscriptions.mouseleave=this.renderer.listen(this.element.nativeElement,"mouseleave",()=>{this.onMouseLeave()})}):!e&&r&&this.unsubscribeEventListeners()}onMouseDown(e){0===e.button&&(this.eventListenerSubscriptions.mousemove||(this.eventListenerSubscriptions.mousemove=this.renderer.listen("document","mousemove",r=>{this.pointerMove$.next({event:r,clientX:r.clientX,clientY:r.clientY})})),this.pointerDown$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onMouseUp(e){0===e.button&&(this.eventListenerSubscriptions.mousemove&&(this.eventListenerSubscriptions.mousemove(),delete this.eventListenerSubscriptions.mousemove),this.pointerUp$.next({event:e,clientX:e.clientX,clientY:e.clientY}))}onTouchStart(e){let r,a,o;if(this.touchStartLongPress&&(this.timeLongPress.timerBegin=Date.now(),a=!1,o=this.hasScrollbar(),r=this.getScrollPosition()),!this.eventListenerSubscriptions.touchmove){const s=(0,Be.R)(this.document,"contextmenu").subscribe(c=>{c.preventDefault()}),l=(0,Be.R)(this.document,"touchmove",{passive:!1}).subscribe(c=>{this.touchStartLongPress&&!a&&o&&(a=this.shouldBeginDrag(e,c,r)),(!this.touchStartLongPress||!o||a)&&(c.preventDefault(),this.pointerMove$.next({event:c,clientX:c.targetTouches[0].clientX,clientY:c.targetTouches[0].clientY}))});this.eventListenerSubscriptions.touchmove=()=>{s.unsubscribe(),l.unsubscribe()}}this.pointerDown$.next({event:e,clientX:e.touches[0].clientX,clientY:e.touches[0].clientY})}onTouchEnd(e){this.eventListenerSubscriptions.touchmove&&(this.eventListenerSubscriptions.touchmove(),delete this.eventListenerSubscriptions.touchmove,this.touchStartLongPress&&this.enableScroll()),this.pointerUp$.next({event:e,clientX:e.changedTouches[0].clientX,clientY:e.changedTouches[0].clientY})}onMouseEnter(){this.setCursor(this.dragCursor)}onMouseLeave(){this.setCursor("")}canDrag(){return this.dragAxis.x||this.dragAxis.y}setCursor(e){this.eventListenerSubscriptions.mousemove||this.renderer.setStyle(this.element.nativeElement,"cursor",e)}unsubscribeEventListeners(){Object.keys(this.eventListenerSubscriptions).forEach(e=>{this.eventListenerSubscriptions[e](),delete this.eventListenerSubscriptions[e]})}setElementStyles(e,r){Object.keys(r).forEach(a=>{this.renderer.setStyle(e,a,r[a])})}getScrollElement(){return this.scrollContainer?this.scrollContainer.elementRef.nativeElement:this.document.body}getScrollPosition(){return this.scrollContainer?{top:this.scrollContainer.elementRef.nativeElement.scrollTop,left:this.scrollContainer.elementRef.nativeElement.scrollLeft}:{top:window.pageYOffset||this.document.documentElement.scrollTop,left:window.pageXOffset||this.document.documentElement.scrollLeft}}shouldBeginDrag(e,r,a){const o=this.getScrollPosition(),s_top=Math.abs(o.top-a.top),s_left=Math.abs(o.left-a.left),l=Math.abs(r.targetTouches[0].clientX-e.touches[0].clientX)-s_left,c=Math.abs(r.targetTouches[0].clientY-e.touches[0].clientY)-s_top,u=this.touchStartLongPress;return(l+c>u.delta||s_top>0||s_left>0)&&(this.timeLongPress.timerBegin=Date.now()),this.timeLongPress.timerEnd=Date.now(),this.timeLongPress.timerEnd-this.timeLongPress.timerBegin>=u.delay&&(this.disableScroll(),!0)}enableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow",""),this.renderer.setStyle(this.document.body,"overflow","")}disableScroll(){this.scrollContainer&&this.renderer.setStyle(this.scrollContainer.elementRef.nativeElement,"overflow","hidden"),this.renderer.setStyle(this.document.body,"overflow","hidden")}hasScrollbar(){const e=this.getScrollElement();return e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(kt),i.Y36(i.R0b),i.Y36(i.s_b),i.Y36(xt,8),i.Y36(w.K0))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlDraggable",""]],inputs:{dropData:"dropData",dragAxis:"dragAxis",dragSnapGrid:"dragSnapGrid",ghostDragEnabled:"ghostDragEnabled",showOriginalElementWhileDragging:"showOriginalElementWhileDragging",validateDrag:"validateDrag",dragCursor:"dragCursor",dragActiveClass:"dragActiveClass",ghostElementAppendTo:"ghostElementAppendTo",ghostElementTemplate:"ghostElementTemplate",touchStartLongPress:"touchStartLongPress",autoScroll:"autoScroll"},outputs:{dragPointerDown:"dragPointerDown",dragStart:"dragStart",ghostElementCreated:"ghostElementCreated",dragging:"dragging",dragEnd:"dragEnd"},features:[i.TTD]}),t})();function St(t,n,e){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom}let Mt=(()=>{class t{constructor(e,r,a,o,s){this.element=e,this.draggableHelper=r,this.zone=a,this.renderer=o,this.scrollContainer=s,this.dragEnter=new i.vpe,this.dragLeave=new i.vpe,this.dragOver=new i.vpe,this.drop=new i.vpe}ngOnInit(){this.currentDragSubscription=this.draggableHelper.currentDrag.subscribe(e=>{je(this.renderer,this.element,this.dragActiveClass);const r={updateCache:!0},a=this.renderer.listen(this.scrollContainer?this.scrollContainer.elementRef.nativeElement:"window","scroll",()=>{r.updateCache=!0});let o;const s=e.pipe((0,z.U)(({clientX:d,clientY:u,dropData:p,target:f})=>{o={clientX:d,clientY:u,dropData:p,target:f},r.updateCache&&(r.rect=this.element.nativeElement.getBoundingClientRect(),this.scrollContainer&&(r.scrollContainerRect=this.scrollContainer.elementRef.nativeElement.getBoundingClientRect()),r.updateCache=!1);const m=St(d,u,r.rect),v=!this.validateDrop||this.validateDrop({clientX:d,clientY:u,target:f,dropData:p});return r.scrollContainerRect?m&&v&&St(d,u,r.scrollContainerRect):m&&v})),l=s.pipe((0,qn.x)());let c;l.pipe((0,P.h)(d=>d)).subscribe(()=>{c=!0,je(this.renderer,this.element,this.dragOverClass),this.dragEnter.observers.length>0&&this.zone.run(()=>{this.dragEnter.next(o)})}),s.pipe((0,P.h)(d=>d)).subscribe(()=>{this.dragOver.observers.length>0&&this.zone.run(()=>{this.dragOver.next(o)})}),l.pipe(Le(),(0,P.h)(([d,u])=>d&&!u)).subscribe(()=>{c=!1,De(this.renderer,this.element,this.dragOverClass),this.dragLeave.observers.length>0&&this.zone.run(()=>{this.dragLeave.next(o)})}),e.subscribe({complete:()=>{a(),De(this.renderer,this.element,this.dragActiveClass),c&&(De(this.renderer,this.element,this.dragOverClass),this.drop.observers.length>0&&this.zone.run(()=>{this.drop.next(o)}))}})})}ngOnDestroy(){this.currentDragSubscription&&this.currentDragSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(kt),i.Y36(i.R0b),i.Y36(i.Qsj),i.Y36(xt,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlDroppable",""]],inputs:{dragOverClass:"dragOverClass",dragActiveClass:"dragActiveClass",validateDrop:"validateDrop"},outputs:{dragEnter:"dragEnter",dragLeave:"dragLeave",dragOver:"dragOver",drop:"drop"}}),t})(),_e=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();var J=D(1777),mi=D(8505);const K="undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);function bt(t,n,e,r){const a=n.querySelectorAll(t);if(a.length){const o=e.querySelectorAll(t);for(let s=0;s<a.length;s++)r(a[s],o[s])}}let hi=0;function Ot(t,n){"file"!==n.type&&(n.value=t.value),"radio"===n.type&&n.name&&(n.name=`mat-clone-${n.name}-${hi++}`)}function Ht(t,n){const e=n.getContext("2d");if(e)try{e.drawImage(t,0,0)}catch(r){}}function At(t,n,e,r){const a={top:t.top,bottom:t.bottom,left:t.left,right:t.right};return n.top&&(a.top+=r),n.bottom&&(a.bottom+=r),n.left&&(a.left+=e),n.right&&(a.right+=e),a.height=a.bottom-a.top,a.width=a.right-a.left,a}const Wt=Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});function Ft(t,n){return t.left&&t.top?n.topLeft:t.right&&t.top?n.topRight:t.left&&t.bottom?n.bottomLeft:t.right&&t.bottom?n.bottomRight:t.left||t.right?n.leftOrRight:t.top||t.bottom?n.topOrBottom:""}function Te({edges:t,initialRectangle:n,newRectangle:e}){const r={};return Object.keys(t).forEach(a=>{r[a]=(e[a]||0)-(n[a]||0)}),r}const Vt="resize-active";let It=(()=>{class t{constructor(e,r,a,o){this.platformId=e,this.renderer=r,this.elm=a,this.zone=o,this.enableGhostResize=!1,this.resizeSnapGrid={},this.resizeCursors=Wt,this.ghostElementPositioning="fixed",this.allowNegativeResizes=!1,this.mouseMoveThrottleMS=50,this.resizeStart=new i.vpe,this.resizing=new i.vpe,this.resizeEnd=new i.vpe,this.mouseup=new Y.x,this.mousedown=new Y.x,this.mousemove=new Y.x,this.destroy$=new Y.x,this.pointerEventListeners=ie.getInstance(r,o)}ngOnInit(){const e=(0,Z.T)(this.pointerEventListeners.pointerDown,this.mousedown),r=(0,Z.T)(this.pointerEventListeners.pointerMove,this.mousemove).pipe((0,mi.b)(({event:d})=>{if(o)try{d.preventDefault()}catch(u){}}),(0,U.B)()),a=(0,Z.T)(this.pointerEventListeners.pointerUp,this.mouseup);let o;const s=()=>{o&&o.clonedNode&&(this.elm.nativeElement.parentElement.removeChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","inherit"))},l=()=>Object.assign(Object.assign({},Wt),this.resizeCursors);e.pipe((0,Ye.z)(d=>{function u(m){return{clientX:m.clientX-d.clientX,clientY:m.clientY-d.clientY}}const p=()=>{const m={x:1,y:1};return o&&(this.resizeSnapGrid.left&&o.edges.left?m.x=+this.resizeSnapGrid.left:this.resizeSnapGrid.right&&o.edges.right&&(m.x=+this.resizeSnapGrid.right),this.resizeSnapGrid.top&&o.edges.top?m.y=+this.resizeSnapGrid.top:this.resizeSnapGrid.bottom&&o.edges.bottom&&(m.y=+this.resizeSnapGrid.bottom)),m};function f(m,v){return{x:Math.ceil(m.clientX/v.x),y:Math.ceil(m.clientY/v.y)}}return(0,Z.T)(r.pipe((0,le.q)(1)).pipe((0,z.U)(m=>[,m])),r.pipe(Le())).pipe((0,z.U)(([m,v])=>[m&&u(m),u(v)])).pipe((0,P.h)(([m,v])=>{if(!m)return!0;const T=p(),y=f(m,T),_=f(v,T);return y.x!==_.x||y.y!==_.y})).pipe((0,z.U)(([,m])=>{const v=p();return{clientX:Math.round(m.clientX/v.x)*v.x,clientY:Math.round(m.clientY/v.y)*v.y}})).pipe((0,j.R)((0,Z.T)(a,e)))})).pipe((0,P.h)(()=>!!o)).pipe((0,z.U)(({clientX:d,clientY:u})=>At(o.startingRect,o.edges,d,u))).pipe((0,P.h)(d=>this.allowNegativeResizes||!!(d.height&&d.width&&d.height>0&&d.width>0))).pipe((0,P.h)(d=>!this.validateResize||this.validateResize({rectangle:d,edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d})})),(0,j.R)(this.destroy$)).subscribe(d=>{o&&o.clonedNode&&(this.renderer.setStyle(o.clonedNode,"height",`${d.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${d.width}px`),this.renderer.setStyle(o.clonedNode,"top",`${d.top}px`),this.renderer.setStyle(o.clonedNode,"left",`${d.left}px`)),this.resizing.observers.length>0&&this.zone.run(()=>{this.resizing.emit({edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:d}),rectangle:d})}),o.currentRect=d}),e.pipe((0,z.U)(({edges:d})=>d||{}),(0,P.h)(d=>Object.keys(d).length>0),(0,j.R)(this.destroy$)).subscribe(d=>{o&&s();const u=function vi(t,n){let e=0,r=0;const a=t.nativeElement.style,s=["transform","-ms-transform","-moz-transform","-o-transform"].map(l=>a[l]).find(l=>!!l);if(s&&s.includes("translate")&&(e=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$1"),r=s.replace(/.*translate3?d?\((-?[0-9]*)px, (-?[0-9]*)px.*/,"$2")),"absolute"===n)return{height:t.nativeElement.offsetHeight,width:t.nativeElement.offsetWidth,top:t.nativeElement.offsetTop-r,bottom:t.nativeElement.offsetHeight+t.nativeElement.offsetTop-r,left:t.nativeElement.offsetLeft-e,right:t.nativeElement.offsetWidth+t.nativeElement.offsetLeft-e};{const l=t.nativeElement.getBoundingClientRect();return{height:l.height,width:l.width,top:l.top-r,bottom:l.bottom-r,left:l.left-e,right:l.right-e,scrollTop:t.nativeElement.scrollTop,scrollLeft:t.nativeElement.scrollLeft}}}(this.elm,this.ghostElementPositioning);o={edges:d,startingRect:u,currentRect:u};const p=l(),f=Ft(o.edges,p);this.renderer.setStyle(document.body,"cursor",f),this.setElementClass(this.elm,Vt,!0),this.enableGhostResize&&(o.clonedNode=function pi(t){const n=t.cloneNode(!0),e=n.querySelectorAll("[id]"),r=t.nodeName.toLowerCase();return n.removeAttribute("id"),e.forEach(a=>{a.removeAttribute("id")}),"canvas"===r?Ht(t,n):("input"===r||"select"===r||"textarea"===r)&&Ot(t,n),bt("canvas",t,n,Ht),bt("input, textarea, select",t,n,Ot),n}(this.elm.nativeElement),this.elm.nativeElement.parentElement.appendChild(o.clonedNode),this.renderer.setStyle(this.elm.nativeElement,"visibility","hidden"),this.renderer.setStyle(o.clonedNode,"position",this.ghostElementPositioning),this.renderer.setStyle(o.clonedNode,"left",`${o.startingRect.left}px`),this.renderer.setStyle(o.clonedNode,"top",`${o.startingRect.top}px`),this.renderer.setStyle(o.clonedNode,"height",`${o.startingRect.height}px`),this.renderer.setStyle(o.clonedNode,"width",`${o.startingRect.width}px`),this.renderer.setStyle(o.clonedNode,"cursor",Ft(o.edges,p)),this.renderer.addClass(o.clonedNode,"resize-ghost-element"),o.clonedNode.scrollTop=o.startingRect.scrollTop,o.clonedNode.scrollLeft=o.startingRect.scrollLeft),this.resizeStart.observers.length>0&&this.zone.run(()=>{this.resizeStart.emit({edges:Te({edges:d,initialRectangle:u,newRectangle:u}),rectangle:At(u,{},0,0)})})}),a.pipe((0,j.R)(this.destroy$)).subscribe(()=>{o&&(this.renderer.removeClass(this.elm.nativeElement,Vt),this.renderer.setStyle(document.body,"cursor",""),this.renderer.setStyle(this.elm.nativeElement,"cursor",""),this.resizeEnd.observers.length>0&&this.zone.run(()=>{this.resizeEnd.emit({edges:Te({edges:o.edges,initialRectangle:o.startingRect,newRectangle:o.currentRect}),rectangle:o.currentRect})}),s(),o=null)})}ngOnDestroy(){(0,w.NF)(this.platformId)&&this.renderer.setStyle(document.body,"cursor",""),this.mousedown.complete(),this.mouseup.complete(),this.mousemove.complete(),this.destroy$.next()}setElementClass(e,r,a){a?this.renderer.addClass(e.nativeElement,r):this.renderer.removeClass(e.nativeElement,r)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Lbi),i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlResizable",""]],inputs:{validateResize:"validateResize",enableGhostResize:"enableGhostResize",resizeSnapGrid:"resizeSnapGrid",resizeCursors:"resizeCursors",ghostElementPositioning:"ghostElementPositioning",allowNegativeResizes:"allowNegativeResizes",mouseMoveThrottleMS:"mouseMoveThrottleMS"},outputs:{resizeStart:"resizeStart",resizing:"resizing",resizeEnd:"resizeEnd"},exportAs:["mwlResizable"]}),t})();class ie{constructor(n,e){this.pointerDown=new ae.y(r=>{let a,o;return e.runOutsideAngular(()=>{a=n.listen("document","mousedown",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),K&&(o=n.listen("document","touchstart",s=>{r.next({clientX:s.touches[0].clientX,clientY:s.touches[0].clientY,event:s})}))}),()=>{a(),K&&o()}}).pipe((0,U.B)()),this.pointerMove=new ae.y(r=>{let a,o;return e.runOutsideAngular(()=>{a=n.listen("document","mousemove",s=>{r.next({clientX:s.clientX,clientY:s.clientY,event:s})}),K&&(o=n.listen("document","touchmove",s=>{r.next({clientX:s.targetTouches[0].clientX,clientY:s.targetTouches[0].clientY,event:s})}))}),()=>{a(),K&&o()}}).pipe((0,U.B)()),this.pointerUp=new ae.y(r=>{let a,o,s;return e.runOutsideAngular(()=>{a=n.listen("document","mouseup",l=>{r.next({clientX:l.clientX,clientY:l.clientY,event:l})}),K&&(o=n.listen("document","touchend",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}),s=n.listen("document","touchcancel",l=>{r.next({clientX:l.changedTouches[0].clientX,clientY:l.changedTouches[0].clientY,event:l})}))}),()=>{a(),K&&(o(),s())}}).pipe((0,U.B)())}static getInstance(n,e){return ie.instance||(ie.instance=new ie(n,e)),ie.instance}}let yi=(()=>{class t{constructor(e,r,a,o){this.renderer=e,this.element=r,this.zone=a,this.resizableDirective=o,this.resizeEdges={},this.eventListeners={},this.destroy$=new Y.x}ngOnInit(){this.zone.runOutsideAngular(()=>{this.listenOnTheHost("mousedown").subscribe(e=>{this.onMousedown(e,e.clientX,e.clientY)}),this.listenOnTheHost("mouseup").subscribe(e=>{this.onMouseup(e.clientX,e.clientY)}),K&&(this.listenOnTheHost("touchstart").subscribe(e=>{this.onMousedown(e,e.touches[0].clientX,e.touches[0].clientY)}),(0,Z.T)(this.listenOnTheHost("touchend"),this.listenOnTheHost("touchcancel")).subscribe(e=>{this.onMouseup(e.changedTouches[0].clientX,e.changedTouches[0].clientY)}))})}ngOnDestroy(){this.destroy$.next(),this.unsubscribeEventListeners()}onMousedown(e,r,a){e.preventDefault(),this.eventListeners.touchmove||(this.eventListeners.touchmove=this.renderer.listen(this.element.nativeElement,"touchmove",o=>{this.onMousemove(o,o.targetTouches[0].clientX,o.targetTouches[0].clientY)})),this.eventListeners.mousemove||(this.eventListeners.mousemove=this.renderer.listen(this.element.nativeElement,"mousemove",o=>{this.onMousemove(o,o.clientX,o.clientY)})),this.resizable.mousedown.next({clientX:r,clientY:a,edges:this.resizeEdges})}onMouseup(e,r){this.unsubscribeEventListeners(),this.resizable.mouseup.next({clientX:e,clientY:r,edges:this.resizeEdges})}get resizable(){return this.resizableDirective||this.resizableContainer}onMousemove(e,r,a){this.resizable.mousemove.next({clientX:r,clientY:a,edges:this.resizeEdges,event:e})}unsubscribeEventListeners(){Object.keys(this.eventListeners).forEach(e=>{this.eventListeners[e](),delete this.eventListeners[e]})}listenOnTheHost(e){return(0,Be.R)(this.element.nativeElement,e).pipe((0,j.R)(this.destroy$))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(It,8))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlResizeHandle",""]],inputs:{resizeEdges:"resizeEdges",resizableContainer:"resizableContainer"}}),t})(),zt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({}),t})();var Qe=D(655);const wi=function(t){return{action:t}};function Ci(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"a",5),i.NdJ("mwlClick",function(a){const s=i.CHM(e).$implicit,l=i.oxw(2).event;return s.onClick({event:l,sourceEvent:a})})("mwlKeydownEnter",function(a){const s=i.CHM(e).$implicit,l=i.oxw(2).event;return s.onClick({event:l,sourceEvent:a})}),i.ALo(1,"calendarA11y"),i.qZA()}if(2&t){const e=n.$implicit;i.Q6J("ngClass",e.cssClass)("innerHtml",e.label,i.oJD),i.uIk("aria-label",i.xi3(1,3,i.VKq(6,wi,e),"actionButtonLabel"))}}function Di(t,n){if(1&t&&(i.TgZ(0,"span",3),i.YNc(1,Ci,2,8,"a",4),i.qZA()),2&t){const e=i.oxw(),r=e.event,a=e.trackByActionId;i.xp6(1),i.Q6J("ngForOf",r.actions)("ngForTrackBy",a)}}function _i(t,n){1&t&&i.YNc(0,Di,2,2,"span",2),2&t&&i.Q6J("ngIf",n.event.actions)}function Ti(t,n){}const Ei=function(t,n){return{event:t,trackByActionId:n}},re=function(){return{}};function ki(t,n){if(1&t&&(i._UZ(0,"span",2),i.ALo(1,"calendarEventTitle"),i.ALo(2,"calendarA11y")),2&t){const e=n.event;i.Q6J("innerHTML",i.Dn7(1,2,e.title,n.view,e),i.oJD),i.uIk("aria-hidden",i.xi3(2,6,i.DdM(9,re),"hideEventTitle"))}}function xi(t,n){}const Si=function(t,n){return{event:t,view:n}};function Mi(t,n){if(1&t&&(i.TgZ(0,"div",2),i._UZ(1,"div",3)(2,"div",4),i.qZA()),2&t){const e=n.contents;i.Q6J("ngClass","cal-tooltip-"+n.placement),i.xp6(2),i.Q6J("innerHtml",e,i.oJD)}}function bi(t,n){}const Oi=function(t,n,e){return{contents:t,placement:n,event:e}},ue=function(t,n){return{x:t,y:n}},Ee=function(){return{delay:300,delta:30}},Rt=function(t,n){return{event:t,locale:n}};function Li(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",4),i.NdJ("mwlClick",function(a){const s=i.CHM(e).$implicit;return i.oxw().dayHeaderClicked.emit({day:s,sourceEvent:a})})("drop",function(a){const s=i.CHM(e).$implicit;return i.oxw().eventDropped.emit({event:a.dropData.event,newStart:s.date})})("dragEnter",function(){const o=i.CHM(e).$implicit;return i.oxw().dragEnter.emit({date:o.date})}),i.TgZ(1,"b"),i._uU(2),i.ALo(3,"calendarDate"),i.qZA(),i._UZ(4,"br"),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"calendarDate"),i.qZA()()}if(2&t){const e=n.$implicit,r=i.oxw().locale;i.ekj("cal-past",e.isPast)("cal-today",e.isToday)("cal-future",e.isFuture)("cal-weekend",e.isWeekend),i.Q6J("ngClass",e.cssClass),i.xp6(2),i.Oqu(i.Dn7(3,11,e.date,"weekViewColumnHeader",r)),i.xp6(4),i.Oqu(i.Dn7(7,15,e.date,"weekViewColumnSubHeader",r))}}function Ni(t,n){if(1&t&&(i.TgZ(0,"div",2),i.YNc(1,Li,8,19,"div",3),i.qZA()),2&t){const e=n.days,r=n.trackByWeekDayHeaderDate;i.xp6(1),i.Q6J("ngForOf",e)("ngForTrackBy",r)}}function Pi(t,n){}const $i=function(t,n,e,r,a,o){return{days:t,locale:n,dayHeaderClicked:e,eventDropped:r,dragEnter:a,trackByWeekDayHeaderDate:o}},Zi=function(t,n){return{backgroundColor:t,borderColor:n}};function Ui(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",2),i.NdJ("mwlClick",function(a){return i.CHM(e).eventClicked.emit({sourceEvent:a})})("mwlKeydownEnter",function(a){return i.CHM(e).eventClicked.emit({sourceEvent:a})}),i.ALo(1,"calendarEventTitle"),i.ALo(2,"calendarA11y"),i._UZ(3,"mwl-calendar-event-actions",3),i._uU(4," "),i._UZ(5,"mwl-calendar-event-title",4),i.qZA()}if(2&t){const e=n.weekEvent,r=n.tooltipPlacement,a=n.tooltipTemplate,o=n.tooltipAppendToBody,s=n.tooltipDisabled,l=n.tooltipDelay,c=n.daysInWeek,d=i.oxw();i.Q6J("ngStyle",i.WLB(20,Zi,null==e.event.color?null:e.event.color.secondary,null==e.event.color?null:e.event.color.primary))("mwlCalendarTooltip",s?"":i.Dn7(1,13,e.event.title,1===c?"dayTooltip":"weekTooltip",e.tempEvent||e.event))("tooltipPlacement",r)("tooltipEvent",e.tempEvent||e.event)("tooltipTemplate",a)("tooltipAppendToBody",o)("tooltipDelay",l),i.uIk("aria-label",i.xi3(2,17,i.WLB(23,Rt,e.tempEvent||e.event,d.locale),"eventDescription")),i.xp6(3),i.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventActionsTemplate),i.xp6(2),i.Q6J("event",e.tempEvent||e.event)("customTemplate",d.eventTitleTemplate)("view",1===c?"day":"week")}}function Ji(t,n){}const Xi=function(t,n,e,r,a,o,s,l,c){return{weekEvent:t,tooltipPlacement:n,eventClicked:e,tooltipTemplate:r,tooltipAppendToBody:a,tooltipDisabled:o,tooltipDelay:s,column:l,daysInWeek:c}};function ji(t,n){if(1&t&&(i.TgZ(0,"div",4),i._uU(1),i.ALo(2,"calendarDate"),i.qZA()),2&t){const e=i.oxw(),r=e.segment,a=e.daysInWeek,o=e.locale;i.xp6(1),i.hij(" ",i.Dn7(2,1,r.displayDate,1===a?"dayViewHour":"weekViewHour",o)," ")}}function Qi(t,n){if(1&t&&(i.TgZ(0,"div",2),i.ALo(1,"calendarA11y"),i.YNc(2,ji,3,5,"div",3),i.qZA()),2&t){const e=n.segment,a=n.isTimeLabel,o=n.daysInWeek;i.Udp("height",n.segmentHeight,"px"),i.ekj("cal-hour-start",e.isStart)("cal-after-hour-start",!e.isStart),i.Q6J("ngClass",e.cssClass),i.uIk("aria-hidden",i.xi3(1,9,i.DdM(12,re),1===o?"hideDayHourSegment":"hideWeekHourSegment")),i.xp6(2),i.Q6J("ngIf",a)}}function Gi(t,n){}const qi=function(t,n,e,r,a){return{segment:t,locale:n,segmentHeight:e,isTimeLabel:r,daysInWeek:a}};function Ki(t,n){if(1&t&&i._UZ(0,"div",3),2&t){const e=i.oxw().topPx;i.Udp("top",e,"px")}}function er(t,n){1&t&&i.YNc(0,Ki,1,2,"div",2),2&t&&i.Q6J("ngIf",n.isVisible)}function tr(t,n){}const nr=function(t,n,e,r,a,o,s){return{columnDate:t,dayStartHour:n,dayStartMinute:e,dayEndHour:r,dayEndMinute:a,isVisible:o,topPx:s}};function ir(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",13),i.NdJ("drop",function(a){const s=i.CHM(e).$implicit;return i.oxw(2).eventDropped(a,s.date,!0)})("dragEnter",function(){const o=i.CHM(e).$implicit;return i.oxw(2).dateDragEnter(o.date)}),i.qZA()}}const rr=function(){return{left:!0}};function ar(t,n){1&t&&i._UZ(0,"div",22),2&t&&i.Q6J("resizeEdges",i.DdM(1,rr))}const or=function(){return{right:!0}};function sr(t,n){1&t&&i._UZ(0,"div",23),2&t&&i.Q6J("resizeEdges",i.DdM(1,or))}const lr=function(t,n){return{left:t,right:n}},Yt=function(t,n){return{event:t,calendarId:n}},dr=function(t){return{x:t}};function cr(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",17,18),i.NdJ("resizeStart",function(a){const s=i.CHM(e).$implicit;i.oxw();const l=i.MAs(1);return i.oxw(2).allDayEventResizeStarted(l,s,a)})("resizing",function(a){const s=i.CHM(e).$implicit,l=i.oxw(3);return l.allDayEventResizing(s,a,l.dayColumnWidth)})("resizeEnd",function(){const o=i.CHM(e).$implicit;return i.oxw(3).allDayEventResizeEnded(o)})("dragStart",function(){const o=i.CHM(e).$implicit,s=i.MAs(1);i.oxw();const l=i.MAs(1);return i.oxw(2).dragStarted(l,s,o,!1)})("dragging",function(){return i.CHM(e),i.oxw(3).allDayEventDragMove()})("dragEnd",function(a){const s=i.CHM(e).$implicit,l=i.oxw(3);return l.dragEnded(s,a,l.dayColumnWidth)}),i.YNc(2,ar,1,2,"div",19),i.TgZ(3,"mwl-calendar-week-view-event",20),i.NdJ("eventClicked",function(a){const s=i.CHM(e).$implicit;return i.oxw(3).eventClicked.emit({event:s.event,sourceEvent:a.sourceEvent})}),i.qZA(),i.YNc(4,sr,1,2,"div",21),i.qZA()}if(2&t){const e=n.$implicit,r=i.oxw(3);i.Udp("width",100/r.days.length*e.span,"%")("margin-left",r.rtl?null:100/r.days.length*e.offset,"%")("margin-right",r.rtl?100/r.days.length*(r.days.length-e.offset)*-1:null,"%"),i.ekj("cal-draggable",e.event.draggable&&0===r.allDayEventResizes.size)("cal-starts-within-week",!e.startsBeforeWeek)("cal-ends-within-week",!e.endsAfterWeek),i.Q6J("ngClass",null==e.event?null:e.event.cssClass)("resizeSnapGrid",i.WLB(32,lr,r.dayColumnWidth,r.dayColumnWidth))("validateResize",r.validateResize)("dropData",i.WLB(35,Yt,e.event,r.calendarId))("dragAxis",i.WLB(38,ue,e.event.draggable&&0===r.allDayEventResizes.size,!r.snapDraggedEvents&&e.event.draggable&&0===r.allDayEventResizes.size))("dragSnapGrid",r.snapDraggedEvents?i.VKq(41,dr,r.dayColumnWidth):i.DdM(43,re))("validateDrag",r.validateDrag)("touchStartLongPress",i.DdM(44,Ee)),i.xp6(2),i.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeWeek),i.xp6(1),i.Q6J("locale",r.locale)("weekEvent",e)("tooltipPlacement",r.tooltipPlacement)("tooltipTemplate",r.tooltipTemplate)("tooltipAppendToBody",r.tooltipAppendToBody)("tooltipDelay",r.tooltipDelay)("customTemplate",r.eventTemplate)("eventTitleTemplate",r.eventTitleTemplate)("eventActionsTemplate",r.eventActionsTemplate)("daysInWeek",r.daysInWeek),i.xp6(1),i.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterWeek)}}function ur(t,n){if(1&t&&(i.TgZ(0,"div",14,15),i.YNc(2,cr,5,45,"div",16),i.qZA()),2&t){const e=n.$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",e.row)("ngForTrackBy",r.trackByWeekAllDayEvent)}}function mr(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",8,9),i.NdJ("dragEnter",function(){return i.CHM(e),i.oxw().dragEnter("allDay")})("dragLeave",function(){return i.CHM(e),i.oxw().dragLeave("allDay")}),i.TgZ(2,"div",5),i._UZ(3,"div",10),i.YNc(4,ir,1,0,"div",11),i.qZA(),i.YNc(5,ur,3,2,"div",12),i.qZA()}if(2&t){const e=i.oxw();i.xp6(3),i.Q6J("ngTemplateOutlet",e.allDayEventsLabelTemplate),i.xp6(1),i.Q6J("ngForOf",e.days)("ngForTrackBy",e.trackByWeekDayHeaderDate),i.xp6(1),i.Q6J("ngForOf",e.view.allDayEventRows)("ngForTrackBy",e.trackById)}}function pr(t,n){if(1&t&&i._UZ(0,"mwl-calendar-week-view-hour-segment",28),2&t){const e=n.$implicit,r=i.oxw(3);i.Udp("height",r.hourSegmentHeight,"px"),i.Q6J("segment",e)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("isTimeLabel",!0)("daysInWeek",r.daysInWeek)}}function hr(t,n){if(1&t&&(i.TgZ(0,"div",26),i.YNc(1,pr,1,8,"mwl-calendar-week-view-hour-segment",27),i.qZA()),2&t){const e=n.$implicit,r=n.odd,a=i.oxw(2);i.ekj("cal-hour-odd",r),i.xp6(1),i.Q6J("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function vr(t,n){if(1&t&&(i.TgZ(0,"div",24),i.YNc(1,hr,2,4,"div",25),i.qZA()),2&t){const e=i.oxw();i.xp6(1),i.Q6J("ngForOf",e.view.hourColumns[0].hours)("ngForTrackBy",e.trackByHour)}}const fr=function(){return{left:!0,top:!0}};function gr(t,n){1&t&&i._UZ(0,"div",22),2&t&&i.Q6J("resizeEdges",i.DdM(1,fr))}function yr(t,n){}function wr(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"mwl-calendar-week-view-event",36),i.NdJ("eventClicked",function(a){i.CHM(e);const o=i.oxw().$implicit;return i.oxw(2).eventClicked.emit({event:o.event,sourceEvent:a.sourceEvent})}),i.qZA()}if(2&t){const e=i.oxw().$implicit,r=i.oxw().$implicit,a=i.oxw();i.Q6J("locale",a.locale)("weekEvent",e)("tooltipPlacement",a.tooltipPlacement)("tooltipTemplate",a.tooltipTemplate)("tooltipAppendToBody",a.tooltipAppendToBody)("tooltipDisabled",a.dragActive||a.timeEventResizes.size>0)("tooltipDelay",a.tooltipDelay)("customTemplate",a.eventTemplate)("eventTitleTemplate",a.eventTitleTemplate)("eventActionsTemplate",a.eventActionsTemplate)("column",r)("daysInWeek",a.daysInWeek)}}const Cr=function(){return{right:!0,bottom:!0}};function Dr(t,n){1&t&&i._UZ(0,"div",23),2&t&&i.Q6J("resizeEdges",i.DdM(1,Cr))}const _r=function(t,n,e,r){return{left:t,right:n,top:e,bottom:r}};function Tr(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"div",33,18),i.NdJ("resizeStart",function(a){const s=i.CHM(e).$implicit,l=i.oxw(2),c=i.MAs(6);return l.timeEventResizeStarted(c,s,a)})("resizing",function(a){const s=i.CHM(e).$implicit;return i.oxw(2).timeEventResizing(s,a)})("resizeEnd",function(){const o=i.CHM(e).$implicit;return i.oxw(2).timeEventResizeEnded(o)})("dragStart",function(){const o=i.CHM(e).$implicit,s=i.MAs(1),l=i.oxw(2),c=i.MAs(6);return l.dragStarted(c,s,o,!0)})("dragging",function(a){const s=i.CHM(e).$implicit;return i.oxw(2).dragMove(s,a)})("dragEnd",function(a){const s=i.CHM(e).$implicit,l=i.oxw(2);return l.dragEnded(s,a,l.dayColumnWidth,!0)}),i.YNc(2,gr,1,2,"div",19),i.YNc(3,yr,0,0,"ng-template",34),i.YNc(4,wr,1,12,"ng-template",null,35,i.W1O),i.YNc(6,Dr,1,2,"div",21),i.qZA()}if(2&t){const e=n.$implicit,r=i.MAs(5),a=i.oxw(2);i.Udp("top",e.top,"px")("height",e.height,"px")("left",e.left,"%")("width",e.width,"%"),i.ekj("cal-draggable",e.event.draggable&&0===a.timeEventResizes.size)("cal-starts-within-day",!e.startsBeforeDay)("cal-ends-within-day",!e.endsAfterDay),i.Q6J("ngClass",e.event.cssClass)("hidden",0===e.height&&0===e.width)("resizeSnapGrid",i.l5B(29,_r,a.dayColumnWidth,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight,a.eventSnapSize||a.hourSegmentHeight))("validateResize",a.validateResize)("allowNegativeResizes",!0)("dropData",i.WLB(34,Yt,e.event,a.calendarId))("dragAxis",i.WLB(37,ue,e.event.draggable&&0===a.timeEventResizes.size,e.event.draggable&&0===a.timeEventResizes.size))("dragSnapGrid",a.snapDraggedEvents?i.WLB(40,ue,a.dayColumnWidth,a.eventSnapSize||a.hourSegmentHeight):i.DdM(43,re))("touchStartLongPress",i.DdM(44,Ee))("ghostDragEnabled",!a.snapDraggedEvents)("ghostElementTemplate",r)("validateDrag",a.validateDrag),i.xp6(2),i.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.beforeStart)&&!e.startsBeforeDay),i.xp6(1),i.Q6J("ngTemplateOutlet",r),i.xp6(3),i.Q6J("ngIf",(null==e.event||null==e.event.resizable?null:e.event.resizable.afterEnd)&&!e.endsAfterDay)}}function Er(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"mwl-calendar-week-view-hour-segment",38),i.NdJ("mwlClick",function(a){const s=i.CHM(e).$implicit;return i.oxw(3).hourSegmentClicked.emit({date:s.date,sourceEvent:a})})("drop",function(a){const s=i.CHM(e).$implicit;return i.oxw(3).eventDropped(a,s.date,!1)})("dragEnter",function(){const o=i.CHM(e).$implicit;return i.oxw(3).dateDragEnter(o.date)}),i.qZA()}if(2&t){const e=n.$implicit,r=i.oxw(3);i.Udp("height",r.hourSegmentHeight,"px"),i.Q6J("segment",e)("segmentHeight",r.hourSegmentHeight)("locale",r.locale)("customTemplate",r.hourSegmentTemplate)("daysInWeek",r.daysInWeek)("clickListenerDisabled",0===r.hourSegmentClicked.observers.length)("dragOverClass",r.dragActive&&r.snapDraggedEvents?null:"cal-drag-over")("isTimeLabel",1===r.daysInWeek)}}function kr(t,n){if(1&t&&(i.TgZ(0,"div",26),i.YNc(1,Er,1,10,"mwl-calendar-week-view-hour-segment",37),i.qZA()),2&t){const e=n.$implicit,r=n.odd,a=i.oxw(2);i.ekj("cal-hour-odd",r),i.xp6(1),i.Q6J("ngForOf",e.segments)("ngForTrackBy",a.trackByHourSegment)}}function xr(t,n){if(1&t&&(i.TgZ(0,"div",29),i._UZ(1,"mwl-calendar-week-view-current-time-marker",30),i.TgZ(2,"div",31),i.YNc(3,Tr,7,45,"div",32),i.qZA(),i.YNc(4,kr,2,4,"div",25),i.qZA()),2&t){const e=n.$implicit,r=i.oxw();i.xp6(1),i.Q6J("columnDate",e.date)("dayStartHour",r.dayStartHour)("dayStartMinute",r.dayStartMinute)("dayEndHour",r.dayEndHour)("dayEndMinute",r.dayEndMinute)("hourSegments",r.hourSegments)("hourDuration",r.hourDuration)("hourSegmentHeight",r.hourSegmentHeight)("customTemplate",r.currentTimeMarkerTemplate),i.xp6(2),i.Q6J("ngForOf",e.events)("ngForTrackBy",r.trackByWeekTimeEvent),i.xp6(1),i.Q6J("ngForOf",e.hours)("ngForTrackBy",r.trackByHour)}}let ke=(()=>{class t{constructor(e,r,a){this.renderer=e,this.elm=r,this.document=a,this.clickListenerDisabled=!1,this.click=new i.vpe,this.destroy$=new Y.x}ngOnInit(){this.clickListenerDisabled||this.listen().pipe((0,j.R)(this.destroy$)).subscribe(e=>{e.stopPropagation(),this.click.emit(e)})}ngOnDestroy(){this.destroy$.next()}listen(){return new ae.y(e=>this.renderer.listen(this.elm.nativeElement,"click",r=>{e.next(r)}))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(w.K0))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlClick",""]],inputs:{clickListenerDisabled:"clickListenerDisabled"},outputs:{click:"mwlClick"}}),t})(),Lt=(()=>{class t{constructor(e,r,a){this.host=e,this.ngZone=r,this.renderer=a,this.keydown=new i.vpe,this.keydownListener=null}ngOnInit(){this.ngZone.runOutsideAngular(()=>{this.keydownListener=this.renderer.listen(this.host.nativeElement,"keydown",e=>{(13===e.keyCode||13===e.which||"Enter"===e.key)&&(e.preventDefault(),e.stopPropagation(),this.ngZone.run(()=>{this.keydown.emit(e)}))})})}ngOnDestroy(){null!==this.keydownListener&&(this.keydownListener(),this.keydownListener=null)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.R0b),i.Y36(i.Qsj))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlKeydownEnter",""]],outputs:{keydown:"mwlKeydownEnter"}}),t})(),xe=(()=>{class t{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:r}){return e.badgeTotal>0?`\n        ${(0,w.p6)(e.date,"EEEE MMMM d",r)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${(0,w.p6)(e.date,"EEEE MMMM d",r)}`}openDayEventsLandmark({date:e,locale:r}){return`\n      Beginning of expanded view for ${(0,w.p6)(e,"EEEE MMMM dd",r)}\n    `}openDayEventsAlert({date:e,locale:r}){return`${(0,w.p6)(e,"EEEE MMMM dd",r)} expanded`}eventDescription({event:e,locale:r}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:r});const a=`\n      ${(0,w.p6)(e.start,"EEEE MMMM dd",r)},\n      ${e.title}, from ${(0,w.p6)(e.start,"hh:mm a",r)}\n    `;return e.end?a+` to ${(0,w.p6)(e.end,"hh:mm a",r)}`:a}allDayEventDescription({event:e,locale:r}){const a=`\n      ${e.title}, event spans multiple days:\n      start time ${(0,w.p6)(e.start,"MMMM dd hh:mm a",r)}\n    `;return e.end?a+`, stop time ${(0,w.p6)(e.end,"MMMM d hh:mm a",r)}`:a+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(w.Gx))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Se=(()=>{class t{constructor(e,r){this.calendarA11y=e,this.locale=r}transform(e,r){if(e.locale=e.locale||this.locale,void 0===this.calendarA11y[r]){const a=Object.getOwnPropertyNames(Object.getPrototypeOf(xe.prototype)).filter(o=>"constructor"!==o);throw new Error(`${r} is not a valid a11y method. Can only be one of ${a.join(", ")}`)}return this.calendarA11y[r](e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(xe,16),i.Y36(i.soG,16))},t.\u0275pipe=i.Yjl({name:"calendarA11y",type:t,pure:!0}),t})(),Sr=(()=>{class t{constructor(){this.trackByActionId=(e,r)=>r.id?r.id:r}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-event-actions"]],inputs:{event:"event",customTemplate:"customTemplate"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-event-actions",4,"ngIf"],[1,"cal-event-actions"],["class","cal-event-action","href","javascript:;","tabindex","0","role","button",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter",4,"ngFor","ngForOf","ngForTrackBy"],["href","javascript:;","tabindex","0","role","button",1,"cal-event-action",3,"ngClass","innerHtml","mwlClick","mwlKeydownEnter"]],template:function(e,r){if(1&e&&(i.YNc(0,_i,1,1,"ng-template",null,0,i.W1O),i.YNc(2,Ti,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.WLB(2,Ei,r.event,r.trackByActionId))}},directives:[w.O5,w.sg,w.mk,ke,Lt,w.tP],pipes:[Se],encapsulation:2}),t})();class qe{month(n,e){return n.title}monthTooltip(n,e){return n.title}week(n,e){return n.title}weekTooltip(n,e){return n.title}day(n,e){return n.title}dayTooltip(n,e){return n.title}}let Nt=(()=>{class t{constructor(e){this.calendarEventTitle=e}transform(e,r,a){return this.calendarEventTitle[r](a,e)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(qe,16))},t.\u0275pipe=i.Yjl({name:"calendarEventTitle",type:t,pure:!0}),t})(),Mr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-event-title"]],inputs:{event:"event",customTemplate:"customTemplate",view:"view"},decls:3,vars:5,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-event-title",3,"innerHTML"]],template:function(e,r){if(1&e&&(i.YNc(0,ki,3,10,"ng-template",null,0,i.W1O),i.YNc(2,xi,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.WLB(2,Si,r.event,r.view))}},directives:[w.tP],pipes:[Nt,Se],encapsulation:2}),t})(),br=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-tooltip-window"]],inputs:{contents:"contents",placement:"placement",event:"event",customTemplate:"customTemplate"},decls:3,vars:6,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-tooltip",3,"ngClass"],[1,"cal-tooltip-arrow"],[1,"cal-tooltip-inner",3,"innerHtml"]],template:function(e,r){if(1&e&&(i.YNc(0,Mi,3,2,"ng-template",null,0,i.W1O),i.YNc(2,bi,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.kEZ(2,Oi,r.contents,r.placement,r.event))}},directives:[w.mk,w.tP],encapsulation:2}),t})(),Or=(()=>{class t{constructor(e,r,a,o,s,l){this.elementRef=e,this.injector=r,this.renderer=a,this.viewContainerRef=s,this.document=l,this.placement="auto",this.delay=null,this.cancelTooltipDelay$=new Y.x,this.tooltipFactory=o.resolveComponentFactory(br)}ngOnChanges(e){this.tooltipRef&&(e.contents||e.customTemplate||e.event)&&(this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.tooltipRef.changeDetectorRef.markForCheck(),this.contents||this.hide())}ngOnDestroy(){this.hide()}onMouseOver(){(null===this.delay?(0,_n.of)("now"):(0,ht.H)(this.delay)).pipe((0,j.R)(this.cancelTooltipDelay$)).subscribe(()=>{this.show()})}onMouseOut(){this.hide()}show(){!this.tooltipRef&&this.contents&&(this.tooltipRef=this.viewContainerRef.createComponent(this.tooltipFactory,0,this.injector,[]),this.tooltipRef.instance.contents=this.contents,this.tooltipRef.instance.customTemplate=this.customTemplate,this.tooltipRef.instance.event=this.event,this.appendToBody&&this.document.body.appendChild(this.tooltipRef.location.nativeElement),requestAnimationFrame(()=>{this.positionTooltip()}))}hide(){this.tooltipRef&&(this.viewContainerRef.remove(this.viewContainerRef.indexOf(this.tooltipRef.hostView)),this.tooltipRef=null),this.cancelTooltipDelay$.next()}positionTooltip(e=[]){this.tooltipRef&&(this.tooltipRef.changeDetectorRef.detectChanges(),this.tooltipRef.instance.placement=function On(t,n,e,r,a){var o=Array.isArray(e)?e:e.split(bn),s=["top","bottom","left","right","top-left","top-right","bottom-left","bottom-right","left-top","left-bottom","right-top","right-bottom"],l=n.classList,c=function(y){var _=y.split("-"),x=_[0],C=_[1],S=[];return a&&(S.push(a+"-"+x),C&&S.push(a+"-"+x+"-"+C),S.forEach(function(O){l.add(O)})),S};a&&s.forEach(function(y){l.remove(a+"-"+y)});var d=o.findIndex(function(y){return"auto"===y});d>=0&&s.forEach(function(y){null==o.find(function(_){return-1!==_.search("^"+y)})&&o.splice(d++,1,y)});var u=n.style;u.position="absolute",u.top="0",u.left="0",u["will-change"]="transform";for(var p,f=!1,m=0,v=o;m<v.length;m++){var T=c(p=v[m]);if(ft.positionElements(t,n,p,r)){f=!0;break}a&&T.forEach(function(y){l.remove(y)})}return f||(c(p=o[0]),ft.positionElements(t,n,p,r)),p}(this.elementRef.nativeElement,this.tooltipRef.location.nativeElement.children[0],this.placement,this.appendToBody),-1===e.indexOf(this.tooltipRef.instance.placement)&&this.positionTooltip([...e,this.tooltipRef.instance.placement]))}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.SBq),i.Y36(i.zs3),i.Y36(i.Qsj),i.Y36(i._Vd),i.Y36(i.s_b),i.Y36(w.K0))},t.\u0275dir=i.lG2({type:t,selectors:[["","mwlCalendarTooltip",""]],hostBindings:function(e,r){1&e&&i.NdJ("mouseenter",function(){return r.onMouseOver()})("mouseleave",function(){return r.onMouseOut()})},inputs:{contents:["mwlCalendarTooltip","contents"],placement:["tooltipPlacement","placement"],customTemplate:["tooltipTemplate","customTemplate"],event:["tooltipEvent","event"],appendToBody:["tooltipAppendToBody","appendToBody"],delay:["tooltipDelay","delay"]},features:[i.TTD]}),t})();var Me=(()=>{return(t=Me||(Me={})).Month="month",t.Week="week",t.Day="day",Me;var t})();function Pt(t,n){return Math.floor(t.left)<=Math.ceil(n.left)&&Math.floor(n.left)<=Math.ceil(t.right)&&Math.floor(t.left)<=Math.ceil(n.right)&&Math.floor(n.right)<=Math.ceil(t.right)}function $t(t,n){return Math.round(t/n)*n}const Zt=(t,n)=>n.date.toISOString(),Fr=(t,n)=>n.date.toISOString(),Vr=(t,n)=>n.segments[0].date.toISOString(),Ir=(t,n)=>n.event.id?n.event.id:n.event,zr=(t,n)=>n.event.id?n.event.id:n.event;function Ke(t,n,e,r,a){const o=$t(t,r||e),s=function Br(t,n,e){return(e||60)/(t*n)}(n,e,a);return o*s}function Ut(t,n,e){return n.end?n.end:t.addMinutes(n.start,e)}function ee(t,n,e,r){let a=0,o=0;const s=e<0?t.subDays:t.addDays;let l=n;for(;o<=Math.abs(e);){l=s(n,a);const c=t.getDay(l);-1===r.indexOf(c)&&o++,a++}return l}function et(t,n,e,r=[],a){let o=a?t.startOfDay(n):t.startOfWeek(n,{weekStartsOn:e});const s=t.endOfWeek(n,{weekStartsOn:e});for(;r.indexOf(t.getDay(o))>-1&&o<s;)o=t.addDays(o,1);if(a)return{viewStart:o,viewEnd:t.endOfDay(ee(t,o,a-1,r))};{let l=s;for(;r.indexOf(t.getDay(l))>-1&&l>o;)l=t.subDays(l,1);return{viewStart:o,viewEnd:l}}}class me{}let Pr=(()=>{class t{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:r}){return(0,w.p6)(e,"EEEE",r)}monthViewDayNumber({date:e,locale:r}){return(0,w.p6)(e,"d",r)}monthViewTitle({date:e,locale:r}){return(0,w.p6)(e,"LLLL y",r)}weekViewColumnHeader({date:e,locale:r}){return(0,w.p6)(e,"EEEE",r)}weekViewColumnSubHeader({date:e,locale:r}){return(0,w.p6)(e,"MMM d",r)}weekViewTitle({date:e,locale:r,weekStartsOn:a,excludeDays:o,daysInWeek:s}){const{viewStart:l,viewEnd:c}=et(this.dateAdapter,e,a,o,s),d=(u,p)=>(0,w.p6)(u,"MMM d"+(p?", yyyy":""),r);return`${d(l,l.getUTCFullYear()!==c.getUTCFullYear())} - ${d(c,!0)}`}weekViewHour({date:e,locale:r}){return(0,w.p6)(e,"h a",r)}dayViewHour({date:e,locale:r}){return(0,w.p6)(e,"h a",r)}dayViewTitle({date:e,locale:r}){return(0,w.p6)(e,"EEEE, MMMM d, y",r)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(me))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),be=(()=>{class t extends Pr{}return t.\u0275fac=function(){let n;return function(r){return(n||(n=i.n5z(t)))(r||t)}}(),t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})(),Jt=(()=>{class t{constructor(e,r){this.dateFormatter=e,this.locale=r}transform(e,r,a=this.locale,o=0,s=[],l){if(void 0===this.dateFormatter[r]){const c=Object.getOwnPropertyNames(Object.getPrototypeOf(be.prototype)).filter(d=>"constructor"!==d);throw new Error(`${r} is not a valid date formatter. Can only be one of ${c.join(", ")}`)}return this.dateFormatter[r]({date:e,locale:a,weekStartsOn:o,excludeDays:s,daysInWeek:l})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(be,16),i.Y36(i.soG,16))},t.\u0275pipe=i.Yjl({name:"calendarDate",type:t,pure:!0}),t})(),tt=(()=>{class t{constructor(e){this.dateAdapter=e}getMonthView(e){return function Yn(t,n){var e=n.events,r=void 0===e?[]:e,a=n.viewDate,o=n.weekStartsOn,s=n.excluded,l=void 0===s?[]:s,c=n.viewStart,d=void 0===c?t.startOfMonth(a):c,u=n.viewEnd,p=void 0===u?t.endOfMonth(a):u,f=n.weekendDays;r||(r=[]);for(var k,v=t.endOfWeek,T=t.differenceInDays,y=t.startOfDay,_=t.addHours,x=t.endOfDay,C=t.isSameMonth,S=t.getDay,F=(0,t.startOfWeek)(d,{weekStartsOn:o}),V=v(p,{weekStartsOn:o}),H=se(t,{events:r,periodStart:F,periodEnd:V}),M=[],g=function(ct){var B;if(k?(B=y(_(k,24)),k.getTime()===B.getTime()&&(B=y(_(k,25))),k=B):B=k=F,!l.some(function(ut){return S(B)===ut})){var L=wt(t,{date:B,weekendDays:f}),Fe=se(t,{events:H,periodStart:y(B),periodEnd:x(B)});L.inMonth=C(B,a),L.events=Fe,L.badgeTotal=Fe.length,M.push(L)}},h=0;h<T(V,F)+1;h++)g();var W=[],A=7-l.length;if(A<7)for(h=0;h<M.length;h+=A){var We=M.slice(h,h+A);We.some(function(B){return d<=B.date&&B.date<p})&&(W=gt(W,We))}else W=M;var dt=Math.floor(W.length/A),fe=[];for(h=0;h<dt;h++)fe.push(h*A);return{rowOffsets:fe,totalDaysVisibleInWeek:A,days:W,period:{start:W[0].date,end:x(W[W.length-1].date),events:H}}}(this.dateAdapter,e)}getWeekViewHeader(e){return Re(this.dateAdapter,e)}getWeekView(e){return function Bn(t,n){var e=n.events,r=void 0===e?[]:e,a=n.viewDate,o=n.weekStartsOn,s=n.excluded,l=void 0===s?[]:s,c=n.precision,d=void 0===c?"days":c,u=n.absolutePositionedEvents,p=void 0!==u&&u,f=n.hourSegments,m=n.hourDuration,v=n.dayStart,T=n.dayEnd,y=n.weekendDays,_=n.segmentHeight,x=n.minimumEventHeight,C=n.viewStart,S=void 0===C?t.startOfWeek(a,{weekStartsOn:o}):C,O=n.viewEnd,F=void 0===O?t.endOfWeek(a,{weekStartsOn:o}):O;r||(r=[]);var H=t.endOfDay,M=se(t,{events:r,periodStart:S=(0,t.startOfDay)(S),periodEnd:F=H(F)}),k=Re(t,{viewDate:a,weekStartsOn:o,excluded:l,weekendDays:y,viewStart:S,viewEnd:F});return{allDayEventRows:zn(t,{events:M,excluded:l,precision:d,absolutePositionedEvents:p,viewStart:S,viewEnd:F}),period:{events:M,start:k[0].date,end:H(k[k.length-1].date)},hourColumns:Rn(t,{events:r,viewDate:a,hourSegments:f,hourDuration:m,dayStart:v,dayEnd:T,weekStartsOn:o,excluded:l,weekendDays:y,segmentHeight:_,viewStart:S,viewEnd:F,minimumEventHeight:x})}}(this.dateAdapter,e)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(me))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})();new i.OlP("Moment");var X=(()=>{return(t=X||(X={})).Drag="drag",t.Drop="drop",t.Resize="resize",X;var t})();let pe=(()=>{class t{static forRoot(e,r={}){return{ngModule:t,providers:[e,r.eventTitleFormatter||qe,r.dateFormatter||be,r.utils||tt,r.a11y||xe]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({providers:[w.Gx],imports:[[w.ez]]}),t})();(0,J.X$)("collapse",[(0,J.SB)("void",(0,J.oB)({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),(0,J.SB)("*",(0,J.oB)({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),(0,J.eR)("* => void",(0,J.jt)("150ms ease-out")),(0,J.eR)("void => *",(0,J.jt)("150ms ease-in"))]);let Xt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[w.ez,_e,pe],_e]}),t})();class $r{constructor(n,e){this.dragContainerElement=n,this.startPosition=e.getBoundingClientRect()}validateDrag({x:n,y:e,snapDraggedEvents:r,dragAlreadyMoved:a,transform:o}){const s=function Nr({x:t,y:n}){return Math.abs(t)>1||Math.abs(n)>1}({x:n,y:e})||a;if(r){const l=Object.assign({},this.startPosition,{left:this.startPosition.left+o.x,right:this.startPosition.right+o.x,top:this.startPosition.top+o.y,bottom:this.startPosition.bottom+o.y});if(s){const c=this.dragContainerElement.getBoundingClientRect(),d=c.top<l.top&&l.top<c.bottom,u=c.top<l.bottom&&l.bottom<c.bottom;return Pt(c,l)&&(d||u)}return!1}return s}}class Zr{constructor(n,e,r){this.resizeContainerElement=n,this.minWidth=e,this.rtl=r}validateResize({rectangle:n,edges:e}){return this.rtl&&(void 0!==e.left?(n.left-=e.left,n.right+=e.left):void 0!==e.right&&(n.left+=e.right,n.right-=e.right),n.width=n.right-n.left),!(this.minWidth&&Math.ceil(n.width)<Math.ceil(this.minWidth))&&function Wr(t,n){return Pt(t,n)&&function Ar(t,n){return Math.floor(t.top)<=Math.ceil(n.top)&&Math.floor(n.top)<=Math.ceil(t.bottom)&&Math.floor(t.top)<=Math.ceil(n.bottom)&&Math.floor(n.bottom)<=Math.ceil(t.bottom)}(t,n)}(this.resizeContainerElement.getBoundingClientRect(),n)}}let Ur=(()=>{class t{constructor(){this.dayHeaderClicked=new i.vpe,this.eventDropped=new i.vpe,this.dragEnter=new i.vpe,this.trackByWeekDayHeaderDate=Zt}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-week-view-header"]],inputs:{days:"days",locale:"locale",customTemplate:"customTemplate"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventDropped:"eventDropped",dragEnter:"dragEnter"},decls:3,vars:9,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","row",1,"cal-day-headers"],["class","cal-header","mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",3,"cal-past","cal-today","cal-future","cal-weekend","ngClass","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over","tabindex","0","role","columnheader",1,"cal-header",3,"ngClass","mwlClick","drop","dragEnter"]],template:function(e,r){if(1&e&&(i.YNc(0,Ni,2,2,"ng-template",null,0,i.W1O),i.YNc(2,Pi,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.HTZ(2,$i,r.days,r.locale,r.dayHeaderClicked,r.eventDropped,r.dragEnter,r.trackByWeekDayHeaderDate))}},directives:[w.sg,Mt,w.mk,ke,w.tP],pipes:[Jt],encapsulation:2}),t})(),Jr=(()=>{class t{constructor(){this.eventClicked=new i.vpe}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-week-view-event"]],inputs:{locale:"locale",weekEvent:"weekEvent",tooltipPlacement:"tooltipPlacement",tooltipAppendToBody:"tooltipAppendToBody",tooltipDisabled:"tooltipDisabled",tooltipDelay:"tooltipDelay",customTemplate:"customTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",tooltipTemplate:"tooltipTemplate",column:"column",daysInWeek:"daysInWeek"},outputs:{eventClicked:"eventClicked"},decls:3,vars:12,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["tabindex","0","role","application",1,"cal-event",3,"ngStyle","mwlCalendarTooltip","tooltipPlacement","tooltipEvent","tooltipTemplate","tooltipAppendToBody","tooltipDelay","mwlClick","mwlKeydownEnter"],[3,"event","customTemplate"],[3,"event","customTemplate","view"]],template:function(e,r){if(1&e&&(i.YNc(0,Ui,6,26,"ng-template",null,0,i.W1O),i.YNc(2,Ji,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.rFY(2,Xi,[r.weekEvent,r.tooltipPlacement,r.eventClicked,r.tooltipTemplate,r.tooltipAppendToBody,r.tooltipDisabled,r.tooltipDelay,r.column,r.daysInWeek]))}},directives:[Sr,Mr,w.PC,Or,ke,Lt,w.tP],pipes:[Nt,Se],encapsulation:2}),t})(),Xr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-week-view-hour-segment"]],inputs:{segment:"segment",segmentHeight:"segmentHeight",locale:"locale",isTimeLabel:"isTimeLabel",daysInWeek:"daysInWeek",customTemplate:"customTemplate"},decls:3,vars:8,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"cal-hour-segment",3,"ngClass"],["class","cal-time",4,"ngIf"],[1,"cal-time"]],template:function(e,r){if(1&e&&(i.YNc(0,Qi,3,13,"ng-template",null,0,i.W1O),i.YNc(2,Gi,0,0,"ng-template",1)),2&e){const a=i.MAs(1);i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.qbA(2,qi,r.segment,r.locale,r.segmentHeight,r.isTimeLabel,r.daysInWeek))}},directives:[w.mk,w.O5,w.tP],pipes:[Se,Jt],encapsulation:2}),t})(),jr=(()=>{class t{constructor(e,r){this.dateAdapter=e,this.zone=r,this.columnDate$=new Tn.X(void 0),this.marker$=this.zone.onStable.pipe((0,Ve.w)(()=>function kn(t=0,n=En.z){return t<0&&(t=0),(0,ht.H)(t,t,n)}(6e4)),(0,vt.O)(0),function Sn(t,n){return(0,xn.m)(n)?(0,Ve.w)(()=>t,n):(0,Ve.w)(()=>t)}(this.columnDate$),(0,z.U)(a=>{const o=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayStartHour),this.dayStartMinute),s=this.dateAdapter.setMinutes(this.dateAdapter.setHours(a,this.dayEndHour),this.dayEndMinute),l=this.hourSegments*this.hourSegmentHeight/(this.hourDuration||60),c=new Date;return{isVisible:this.dateAdapter.isSameDay(a,c)&&c>=o&&c<=s,top:this.dateAdapter.differenceInMinutes(c,o)*l}}))}ngOnChanges(e){e.columnDate&&this.columnDate$.next(e.columnDate.currentValue)}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(me),i.Y36(i.R0b))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-week-view-current-time-marker"]],inputs:{columnDate:"columnDate",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",customTemplate:"customTemplate"},features:[i.TTD],decls:5,vars:14,consts:[["defaultTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["class","cal-current-time-marker",3,"top",4,"ngIf"],[1,"cal-current-time-marker"]],template:function(e,r){if(1&e&&(i.YNc(0,er,1,1,"ng-template",null,0,i.W1O),i.YNc(2,tr,0,0,"ng-template",1),i.ALo(3,"async"),i.ALo(4,"async")),2&e){const a=i.MAs(1);let o;i.xp6(2),i.Q6J("ngTemplateOutlet",r.customTemplate||a)("ngTemplateOutletContext",i.Hh0(6,nr,r.columnDate,r.dayStartHour,r.dayStartMinute,r.dayEndHour,r.dayEndMinute,null==(o=i.lcZ(3,2,r.marker$))?null:o.isVisible,null==(o=i.lcZ(4,4,r.marker$))?null:o.top))}},directives:[w.O5,w.tP],pipes:[w.Ov],encapsulation:2}),t})(),Qr=(()=>{class t{constructor(e,r,a,o,s){this.cdr=e,this.utils=r,this.dateAdapter=o,this.element=s,this.events=[],this.excludeDays=[],this.tooltipPlacement="auto",this.tooltipAppendToBody=!0,this.tooltipDelay=null,this.precision="days",this.snapDraggedEvents=!0,this.hourSegments=2,this.hourSegmentHeight=30,this.minimumEventHeight=30,this.dayStartHour=0,this.dayStartMinute=0,this.dayEndHour=23,this.dayEndMinute=59,this.dayHeaderClicked=new i.vpe,this.eventClicked=new i.vpe,this.eventTimesChanged=new i.vpe,this.beforeViewRender=new i.vpe,this.hourSegmentClicked=new i.vpe,this.allDayEventResizes=new Map,this.timeEventResizes=new Map,this.eventDragEnterByType={allDay:0,time:0},this.dragActive=!1,this.dragAlreadyMoved=!1,this.calendarId=Symbol("angular calendar week view id"),this.rtl=!1,this.trackByWeekDayHeaderDate=Zt,this.trackByHourSegment=Fr,this.trackByHour=Vr,this.trackByWeekAllDayEvent=Ir,this.trackByWeekTimeEvent=zr,this.trackByHourColumn=(l,c)=>c.hours[0]?c.hours[0].segments[0].date.toISOString():c,this.trackById=(l,c)=>c.id,this.locale=a}ngOnInit(){this.refresh&&(this.refreshSubscription=this.refresh.subscribe(()=>{this.refreshAll(),this.cdr.markForCheck()}))}ngOnChanges(e){const r=e.viewDate||e.excludeDays||e.weekendDays||e.daysInWeek||e.weekStartsOn,a=e.viewDate||e.dayStartHour||e.dayStartMinute||e.dayEndHour||e.dayEndMinute||e.hourSegments||e.hourDuration||e.weekStartsOn||e.weekendDays||e.excludeDays||e.hourSegmentHeight||e.events||e.daysInWeek||e.minimumEventHeight;r&&this.refreshHeader(),e.events&&(t=>{(function Pn(t,n){var e=!0;function r(a,o){n(a,o),e=!1}Array.isArray(t)?t.forEach(function(a){a.start?a.start instanceof Date||r(G.StartPropertyNotDate,a):r(G.StartPropertyMissing,a),a.end&&(a.end instanceof Date||r(G.EndPropertyNotDate,a),a.start>a.end&&r(G.EndsBeforeStart,a))}):n(G.NotArray,t)})(t,(...e)=>console.warn("angular-calendar",...e))})(this.events),a&&this.refreshBody(),(r||a)&&this.emitBeforeViewRender()}ngOnDestroy(){this.refreshSubscription&&this.refreshSubscription.unsubscribe()}ngAfterViewInit(){this.rtl="undefined"!=typeof window&&"rtl"===getComputedStyle(this.element.nativeElement).direction,this.cdr.detectChanges()}timeEventResizeStarted(e,r,a){this.timeEventResizes.set(r.event,a),this.resizeStarted(e,r)}timeEventResizing(e,r){this.timeEventResizes.set(e.event,r);const a=new Map,o=[...this.events];this.timeEventResizes.forEach((s,l)=>{const c=this.getTimeEventResizedDates(l,s),d=Object.assign(Object.assign({},l),c);a.set(d,l);const u=o.indexOf(l);o[u]=d}),this.restoreOriginalEvents(o,a,!0)}timeEventResizeEnded(e){this.view=this.getWeekView(this.events);const r=this.timeEventResizes.get(e.event);if(r){this.timeEventResizes.delete(e.event);const a=this.getTimeEventResizedDates(e.event,r);this.eventTimesChanged.emit({newStart:a.start,newEnd:a.end,event:e.event,type:X.Resize})}}allDayEventResizeStarted(e,r,a){this.allDayEventResizes.set(r,{originalOffset:r.offset,originalSpan:r.span,edge:void 0!==a.edges.left?"left":"right"}),this.resizeStarted(e,r,this.getDayColumnWidth(e))}allDayEventResizing(e,r,a){const o=this.allDayEventResizes.get(e),s=this.rtl?-1:1;if(void 0!==r.edges.left){const l=Math.round(+r.edges.left/a)*s;e.offset=o.originalOffset+l,e.span=o.originalSpan-l}else if(void 0!==r.edges.right){const l=Math.round(+r.edges.right/a)*s;e.span=o.originalSpan+l}}allDayEventResizeEnded(e){const r=this.allDayEventResizes.get(e);if(r){const a="left"===r.edge;let o;o=a?e.offset-r.originalOffset:e.span-r.originalSpan,e.offset=r.originalOffset,e.span=r.originalSpan;const s=this.getAllDayEventResizedDates(e.event,o,a);this.eventTimesChanged.emit({newStart:s.start,newEnd:s.end,event:e.event,type:X.Resize}),this.allDayEventResizes.delete(e)}}getDayColumnWidth(e){return Math.floor(e.offsetWidth/this.days.length)}dateDragEnter(e){this.lastDragEnterDate=e}eventDropped(e,r,a){(function Lr(t,n,e,r){return t.dropData&&t.dropData.event&&(t.dropData.calendarId!==r||t.dropData.event.allDay&&!e||!t.dropData.event.allDay&&e)})(e,0,a,this.calendarId)&&this.lastDragEnterDate.getTime()===r.getTime()&&(!this.snapDraggedEvents||e.dropData.event!==this.lastDraggedEvent)&&this.eventTimesChanged.emit({type:X.Drop,event:e.dropData.event,newStart:r,allDay:a}),this.lastDraggedEvent=null}dragEnter(e){this.eventDragEnterByType[e]++}dragLeave(e){this.eventDragEnterByType[e]--}dragStarted(e,r,a,o){this.dayColumnWidth=this.getDayColumnWidth(e);const s=new $r(e,r);this.validateDrag=({x:l,y:c,transform:d})=>{const u=0===this.allDayEventResizes.size&&0===this.timeEventResizes.size&&s.validateDrag({x:l,y:c,snapDraggedEvents:this.snapDraggedEvents,dragAlreadyMoved:this.dragAlreadyMoved,transform:d});if(u&&this.validateEventTimesChanged){const p=this.getDragMovedEventTimes(a,{x:l,y:c},this.dayColumnWidth,o);return this.validateEventTimesChanged({type:X.Drag,event:a.event,newStart:p.start,newEnd:p.end})}return u},this.dragActive=!0,this.dragAlreadyMoved=!1,this.lastDraggedEvent=null,this.eventDragEnterByType={allDay:0,time:0},!this.snapDraggedEvents&&o&&this.view.hourColumns.forEach(l=>{const c=l.events.find(d=>d.event===a.event&&d!==a);c&&(c.width=0,c.height=0)}),this.cdr.markForCheck()}dragMove(e,r){const a=this.getDragMovedEventTimes(e,r,this.dayColumnWidth,!0),o=e.event,s=Object.assign(Object.assign({},o),a),l=this.events.map(c=>c===o?s:c);this.restoreOriginalEvents(l,new Map([[s,o]]),this.snapDraggedEvents),this.dragAlreadyMoved=!0}allDayEventDragMove(){this.dragAlreadyMoved=!0}dragEnded(e,r,a,o=!1){this.view=this.getWeekView(this.events),this.dragActive=!1,this.validateDrag=null;const{start:s,end:l}=this.getDragMovedEventTimes(e,r,a,o);(this.snapDraggedEvents||this.eventDragEnterByType[o?"time":"allDay"]>0)&&function Yr(t,n,e){const r=n||t;return e.start<=t&&t<=e.end||e.start<=r&&r<=e.end}(s,l,this.view.period)&&(this.lastDraggedEvent=e.event,this.eventTimesChanged.emit({newStart:s,newEnd:l,event:e.event,type:X.Drag,allDay:!o}))}refreshHeader(){this.days=this.utils.getWeekViewHeader(Object.assign({viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,weekendDays:this.weekendDays},et(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}refreshBody(){this.view=this.getWeekView(this.events)}refreshAll(){this.refreshHeader(),this.refreshBody(),this.emitBeforeViewRender()}emitBeforeViewRender(){this.days&&this.view&&this.beforeViewRender.emit(Object.assign({header:this.days},this.view))}getWeekView(e){return this.utils.getWeekView(Object.assign({events:e,viewDate:this.viewDate,weekStartsOn:this.weekStartsOn,excluded:this.excludeDays,precision:this.precision,absolutePositionedEvents:!0,hourSegments:this.hourSegments,hourDuration:this.hourDuration,dayStart:{hour:this.dayStartHour,minute:this.dayStartMinute},dayEnd:{hour:this.dayEndHour,minute:this.dayEndMinute},segmentHeight:this.hourSegmentHeight,weekendDays:this.weekendDays,minimumEventHeight:this.minimumEventHeight},et(this.dateAdapter,this.viewDate,this.weekStartsOn,this.excludeDays,this.daysInWeek)))}getDragMovedEventTimes(e,r,a,o){const s=$t(r.x,a)/a*(this.rtl?-1:1),l=o?Ke(r.y,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration):0,c=this.dateAdapter.addMinutes(ee(this.dateAdapter,e.event.start,s,this.excludeDays),l);let d;return e.event.end&&(d=this.dateAdapter.addMinutes(ee(this.dateAdapter,e.event.end,s,this.excludeDays),l)),{start:c,end:d}}restoreOriginalEvents(e,r,a=!0){const o=this.view;a&&(this.view=this.getWeekView(e));const s=e.filter(l=>r.has(l));this.view.hourColumns.forEach((l,c)=>{o.hourColumns[c].hours.forEach((d,u)=>{d.segments.forEach((p,f)=>{l.hours[u].segments[f].cssClass=p.cssClass})}),s.forEach(d=>{const u=r.get(d),p=l.events.find(f=>f.event===(a?d:u));p?(p.event=u,p.tempEvent=d,a||(p.height=0,p.width=0)):l.events.push({event:u,left:0,top:0,height:0,width:0,startsBeforeDay:!1,endsAfterDay:!1,tempEvent:d})})}),r.clear()}getTimeEventResizedDates(e,r){const a={start:e.start,end:Ut(this.dateAdapter,e,this.minimumEventHeight)},s=(0,Qe._T)(e,["end"]),l={start:this.dateAdapter.addMinutes(a.end,-1*this.minimumEventHeight),end:Ut(this.dateAdapter,s,this.minimumEventHeight)},c=this.rtl?-1:1;if(void 0!==r.edges.left){const d=Math.round(+r.edges.left/this.dayColumnWidth)*c,u=ee(this.dateAdapter,a.start,d,this.excludeDays);a.start=u<l.start?u:l.start}else if(void 0!==r.edges.right){const d=Math.round(+r.edges.right/this.dayColumnWidth)*c,u=ee(this.dateAdapter,a.end,d,this.excludeDays);a.end=u>l.end?u:l.end}if(void 0!==r.edges.top){const d=Ke(r.edges.top,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.start,d);a.start=u<l.start?u:l.start}else if(void 0!==r.edges.bottom){const d=Ke(r.edges.bottom,this.hourSegments,this.hourSegmentHeight,this.eventSnapSize,this.hourDuration),u=this.dateAdapter.addMinutes(a.end,d);a.end=u>l.end?u:l.end}return a}resizeStarted(e,r,a){this.dayColumnWidth=this.getDayColumnWidth(e);const o=new Zr(e,a,this.rtl);this.validateResize=({rectangle:s,edges:l})=>{const c=o.validateResize({rectangle:Object.assign({},s),edges:l});if(c&&this.validateEventTimesChanged){let d;if(a){const u=this.rtl?-1:1;if(void 0!==l.left){const p=Math.round(+l.left/a)*u;d=this.getAllDayEventResizedDates(r.event,p,!this.rtl)}else{const p=Math.round(+l.right/a)*u;d=this.getAllDayEventResizedDates(r.event,p,this.rtl)}}else d=this.getTimeEventResizedDates(r.event,{rectangle:s,edges:l});return this.validateEventTimesChanged({type:X.Resize,event:r.event,newStart:d.start,newEnd:d.end})}return c},this.cdr.markForCheck()}getAllDayEventResizedDates(e,r,a){let o=e.start,s=e.end||e.start;return a?o=ee(this.dateAdapter,o,r,this.excludeDays):s=ee(this.dateAdapter,s,r,this.excludeDays),{start:o,end:s}}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(i.sBO),i.Y36(tt),i.Y36(i.soG),i.Y36(me),i.Y36(i.SBq))},t.\u0275cmp=i.Xpm({type:t,selectors:[["mwl-calendar-week-view"]],inputs:{viewDate:"viewDate",events:"events",excludeDays:"excludeDays",refresh:"refresh",locale:"locale",tooltipPlacement:"tooltipPlacement",tooltipTemplate:"tooltipTemplate",tooltipAppendToBody:"tooltipAppendToBody",tooltipDelay:"tooltipDelay",weekStartsOn:"weekStartsOn",headerTemplate:"headerTemplate",eventTemplate:"eventTemplate",eventTitleTemplate:"eventTitleTemplate",eventActionsTemplate:"eventActionsTemplate",precision:"precision",weekendDays:"weekendDays",snapDraggedEvents:"snapDraggedEvents",hourSegments:"hourSegments",hourDuration:"hourDuration",hourSegmentHeight:"hourSegmentHeight",minimumEventHeight:"minimumEventHeight",dayStartHour:"dayStartHour",dayStartMinute:"dayStartMinute",dayEndHour:"dayEndHour",dayEndMinute:"dayEndMinute",hourSegmentTemplate:"hourSegmentTemplate",eventSnapSize:"eventSnapSize",allDayEventsLabelTemplate:"allDayEventsLabelTemplate",daysInWeek:"daysInWeek",currentTimeMarkerTemplate:"currentTimeMarkerTemplate",validateEventTimesChanged:"validateEventTimesChanged"},outputs:{dayHeaderClicked:"dayHeaderClicked",eventClicked:"eventClicked",eventTimesChanged:"eventTimesChanged",beforeViewRender:"beforeViewRender",hourSegmentClicked:"hourSegmentClicked"},features:[i.TTD],decls:8,vars:9,consts:[["role","grid",1,"cal-week-view"],[3,"days","locale","customTemplate","dayHeaderClicked","eventDropped","dragEnter"],["class","cal-all-day-events","mwlDroppable","",3,"dragEnter","dragLeave",4,"ngIf"],["mwlDroppable","",1,"cal-time-events",3,"dragEnter","dragLeave"],["class","cal-time-label-column",4,"ngIf"],[1,"cal-day-columns"],["dayColumns",""],["class","cal-day-column",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","",1,"cal-all-day-events",3,"dragEnter","dragLeave"],["allDayEventsContainer",""],[1,"cal-time-label-column",3,"ngTemplateOutlet"],["class","cal-day-column","mwlDroppable","","dragOverClass","cal-drag-over",3,"drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["class","cal-events-row",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragOverClass","cal-drag-over",1,"cal-day-column",3,"drop","dragEnter"],[1,"cal-events-row"],["eventRowContainer",""],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-week","cal-ends-within-week","ngClass","width","marginLeft","marginRight","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","resizeSnapGrid","validateResize","dropData","dragAxis","dragSnapGrid","validateDrag","touchStartLongPress","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],["event",""],["class","cal-resize-handle cal-resize-handle-before-start","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","daysInWeek","eventClicked"],["class","cal-resize-handle cal-resize-handle-after-end","mwlResizeHandle","",3,"resizeEdges",4,"ngIf"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-before-start",3,"resizeEdges"],["mwlResizeHandle","",1,"cal-resize-handle","cal-resize-handle-after-end",3,"resizeEdges"],[1,"cal-time-label-column"],["class","cal-hour",3,"cal-hour-odd",4,"ngFor","ngForOf","ngForTrackBy"],[1,"cal-hour"],[3,"height","segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek",4,"ngFor","ngForOf","ngForTrackBy"],[3,"segment","segmentHeight","locale","customTemplate","isTimeLabel","daysInWeek"],[1,"cal-day-column"],[3,"columnDate","dayStartHour","dayStartMinute","dayEndHour","dayEndMinute","hourSegments","hourDuration","hourSegmentHeight","customTemplate"],[1,"cal-events-container"],["class","cal-event-container","mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",3,"cal-draggable","cal-starts-within-day","cal-ends-within-day","ngClass","hidden","top","height","left","width","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd",4,"ngFor","ngForOf","ngForTrackBy"],["mwlResizable","","mwlDraggable","","dragActiveClass","cal-drag-active",1,"cal-event-container",3,"ngClass","hidden","resizeSnapGrid","validateResize","allowNegativeResizes","dropData","dragAxis","dragSnapGrid","touchStartLongPress","ghostDragEnabled","ghostElementTemplate","validateDrag","resizeStart","resizing","resizeEnd","dragStart","dragging","dragEnd"],[3,"ngTemplateOutlet"],["weekEventTemplate",""],[3,"locale","weekEvent","tooltipPlacement","tooltipTemplate","tooltipAppendToBody","tooltipDisabled","tooltipDelay","customTemplate","eventTitleTemplate","eventActionsTemplate","column","daysInWeek","eventClicked"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"height","segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter",4,"ngFor","ngForOf","ngForTrackBy"],["mwlDroppable","","dragActiveClass","cal-drag-active",3,"segment","segmentHeight","locale","customTemplate","daysInWeek","clickListenerDisabled","dragOverClass","isTimeLabel","mwlClick","drop","dragEnter"]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"mwl-calendar-week-view-header",1),i.NdJ("dayHeaderClicked",function(o){return r.dayHeaderClicked.emit(o)})("eventDropped",function(o){return r.eventDropped({dropData:o},o.newStart,!0)})("dragEnter",function(o){return r.dateDragEnter(o.date)}),i.qZA(),i.YNc(2,mr,6,5,"div",2),i.TgZ(3,"div",3),i.NdJ("dragEnter",function(){return r.dragEnter("time")})("dragLeave",function(){return r.dragLeave("time")}),i.YNc(4,vr,2,2,"div",4),i.TgZ(5,"div",5,6),i.YNc(7,xr,5,13,"div",7),i.qZA()()()),2&e&&(i.xp6(1),i.Q6J("days",r.days)("locale",r.locale)("customTemplate",r.headerTemplate),i.xp6(1),i.Q6J("ngIf",r.view.allDayEventRows.length>0),i.xp6(2),i.Q6J("ngIf",r.view.hourColumns.length>0&&1!==r.daysInWeek),i.xp6(1),i.ekj("cal-resize-active",r.timeEventResizes.size>0),i.xp6(2),i.Q6J("ngForOf",r.view.hourColumns)("ngForTrackBy",r.trackByHourColumn))},directives:[Ur,Jr,Xr,jr,w.O5,Mt,w.tP,w.sg,It,ui,w.mk,yi,ke],encapsulation:2}),t})(),nt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[w.ez,zt,_e,pe],zt,_e]}),t})(),jt=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[w.ez,pe,nt]]}),t})(),Gr=(()=>{class t{static forRoot(e,r={}){return{ngModule:t,providers:[e,r.eventTitleFormatter||qe,r.dateFormatter||be,r.utils||tt,r.a11y||xe]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[pe,Xt,nt,jt],pe,Xt,nt,jt]}),t})();function I(t){if(null===t||!0===t||!1===t)return NaN;var n=Number(t);return isNaN(n)?n:n<0?Math.ceil(n):Math.floor(n)}function E(t,n){if(n.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+n.length+" present")}function Oe(t){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function b(t){E(1,arguments);var n=Object.prototype.toString.call(t);return t instanceof Date||"object"===Oe(t)&&"[object Date]"===n?new Date(t.getTime()):"number"==typeof t||"[object Number]"===n?new Date(t):(("string"==typeof t||"[object String]"===n)&&"undefined"!=typeof console&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function it(t,n){E(2,arguments);var e=b(t),r=I(n);return isNaN(r)?new Date(NaN):(r&&e.setDate(e.getDate()+r),e)}function rt(t,n){E(2,arguments);var e=b(t).getTime(),r=I(n);return new Date(e+r)}function Kr(t,n){E(2,arguments);var e=I(n);return rt(t,36e5*e)}function ta(t,n){E(2,arguments);var e=I(n);return rt(t,6e4*e)}function na(t,n){E(2,arguments);var e=I(n);return rt(t,1e3*e)}function Qt(t){var n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),t.getTime()-n.getTime()}function he(t){E(1,arguments);var n=b(t);return n.setHours(0,0,0,0),n}function ra(t,n){E(2,arguments);var e=he(t),r=he(n),a=e.getTime()-Qt(e),o=r.getTime()-Qt(r);return Math.round((a-o)/864e5)}function Gt(t,n){var e=t.getFullYear()-n.getFullYear()||t.getMonth()-n.getMonth()||t.getDate()-n.getDate()||t.getHours()-n.getHours()||t.getMinutes()-n.getMinutes()||t.getSeconds()-n.getSeconds()||t.getMilliseconds()-n.getMilliseconds();return e<0?-1:e>0?1:e}function aa(t,n){E(2,arguments);var e=b(t),r=b(n),a=Gt(e,r),o=Math.abs(ra(e,r));e.setDate(e.getDate()-a*o);var s=Number(Gt(e,r)===-a),l=a*(o-s);return 0===l?0:l}function Kt(t,n){return E(2,arguments),b(t).getTime()-b(n).getTime()}Math.pow(10,8);var en={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}};function tn(t){return t?en[t]:en.trunc}function pa(t,n,e){E(2,arguments);var r=Kt(t,n)/6e4;return tn(null==e?void 0:e.roundingMethod)(r)}function ha(t,n,e){E(2,arguments);var r=Kt(t,n)/1e3;return tn(null==e?void 0:e.roundingMethod)(r)}function va(t){E(1,arguments);var n=b(t);return n.setHours(23,59,59,999),n}function fa(t){E(1,arguments);var n=b(t),e=n.getMonth();return n.setFullYear(n.getFullYear(),e+1,0),n.setHours(23,59,59,999),n}var nn={};function rn(){return nn}function ga(t,n){var e,r,a,o,s,l,c,d;E(1,arguments);var u=rn(),p=I(null!==(e=null!==(r=null!==(a=null!==(o=null==n?void 0:n.weekStartsOn)&&void 0!==o?o:null==n||null===(s=n.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=b(t),m=f.getDay(),v=6+(m<p?-7:0)-(m-p);return f.setDate(f.getDate()+v),f.setHours(23,59,59,999),f}function ya(t){E(1,arguments);var n=b(t),e=n.getDay();return e}function wa(t){E(1,arguments);var n=b(t),e=n.getMonth();return e}function Ca(t,n){E(2,arguments);var e=he(t),r=he(n);return e.getTime()===r.getTime()}function Da(t,n){E(2,arguments);var e=b(t),r=b(n);return e.getFullYear()===r.getFullYear()&&e.getMonth()===r.getMonth()}function an(t){E(1,arguments);var n=b(t);return n.setMilliseconds(0),n}function _a(t,n){E(2,arguments);var e=an(t),r=an(n);return e.getTime()===r.getTime()}function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Ta(t){var n,e;if(E(1,arguments),t&&"function"==typeof t.forEach)n=t;else{if("object"!==He(t)||null===t)return new Date(NaN);n=Array.prototype.slice.call(t)}return n.forEach(function(r){var a=b(r);(void 0===e||e<a||isNaN(Number(a)))&&(e=a)}),e||new Date(NaN)}function Ea(t,n){E(2,arguments);var e=b(t),r=I(n);return e.setHours(r),e}function ka(t,n){E(2,arguments);var e=b(t),r=I(n);return e.setMinutes(r),e}function xa(t){E(1,arguments);var n=b(t);return n.setSeconds(0,0),n}function Sa(t){E(1,arguments);var n=b(t);return n.setDate(1),n.setHours(0,0,0,0),n}function on(t,n){var e,r,a,o,s,l,c,d;E(1,arguments);var u=rn(),p=I(null!==(e=null!==(r=null!==(a=null!==(o=null==n?void 0:n.weekStartsOn)&&void 0!==o?o:null==n||null===(s=n.locale)||void 0===s||null===(l=s.options)||void 0===l?void 0:l.weekStartsOn)&&void 0!==a?a:u.weekStartsOn)&&void 0!==r?r:null===(c=u.locale)||void 0===c||null===(d=c.options)||void 0===d?void 0:d.weekStartsOn)&&void 0!==e?e:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var f=b(t),m=f.getDay(),v=(m<p?7:0)+m-p;return f.setDate(f.getDate()-v),f.setHours(0,0,0,0),f}function Ma(t){E(1,arguments);var n=b(t),e=n.getHours();return e}function ba(t){E(1,arguments);var n=b(t),e=n.getMinutes();return e}function Oa(t){return new Date(t).getTimezoneOffset()}function sn(t,n){E(2,arguments);var e=I(n),r=7*e;return it(t,r)}function ln(t,n){E(2,arguments);var e=b(t),r=I(n);if(isNaN(r))return new Date(NaN);if(!r)return e;var a=e.getDate(),o=new Date(e.getTime());o.setMonth(e.getMonth()+r+1,0);var s=o.getDate();return a>=s?o:(e.setFullYear(o.getFullYear(),o.getMonth(),a),e)}function Aa(t,n){E(2,arguments);var e=I(n);return it(t,-e)}function Wa(t,n){E(2,arguments);var e=I(n);return sn(t,-e)}function Fa(t,n){E(2,arguments);var e=I(n);return ln(t,-e)}function Ae(t){return E(1,arguments),on(t,{weekStartsOn:1})}function Va(t){E(1,arguments);var n=b(t),e=n.getFullYear(),r=new Date(0);r.setFullYear(e+1,0,4),r.setHours(0,0,0,0);var a=Ae(r),o=new Date(0);o.setFullYear(e,0,4),o.setHours(0,0,0,0);var s=Ae(o);return n.getTime()>=a.getTime()?e+1:n.getTime()>=s.getTime()?e:e-1}function Ia(t){E(1,arguments);var n=Va(t),e=new Date(0);e.setFullYear(n,0,4),e.setHours(0,0,0,0);var r=Ae(e);return r}var za=6048e5;function Ra(t){E(1,arguments);var n=b(t),e=Ae(n).getTime()-Ia(n).getTime();return Math.round(e/za)+1}function Ba(t,n){E(2,arguments);var e=b(t),r=I(n);return e.setDate(r),e}function Ya(t){E(1,arguments);var n=b(t),e=n.getFullYear(),r=n.getMonth(),a=new Date(0);return a.setFullYear(e,r+1,0),a.setHours(0,0,0,0),a.getDate()}function La(t,n){E(2,arguments);var e=b(t),r=I(n),a=e.getFullYear(),o=e.getDate(),s=new Date(0);s.setFullYear(a,r,15),s.setHours(0,0,0,0);var l=Ya(s);return e.setMonth(r,Math.min(o,l)),e}function Na(t,n){E(2,arguments);var e=b(t),r=I(n);return isNaN(e.getTime())?new Date(NaN):(e.setFullYear(r),e)}function Pa(t){E(1,arguments);var n=b(t),e=n.getDate();return e}function $a(t){return E(1,arguments),b(t).getFullYear()}function Za(){return(0,Qe.pi)((0,Qe.pi)({},function Ha(){return{addDays:it,addHours:Kr,addMinutes:ta,addSeconds:na,differenceInDays:aa,differenceInMinutes:pa,differenceInSeconds:ha,endOfDay:va,endOfMonth:fa,endOfWeek:ga,getDay:ya,getMonth:wa,isSameDay:Ca,isSameMonth:Da,isSameSecond:_a,max:Ta,setHours:Ea,setMinutes:ka,startOfDay:he,startOfMinute:xa,startOfMonth:Sa,startOfWeek:on,getHours:Ma,getMinutes:ba,getTimezoneOffset:Oa}}()),{addWeeks:sn,addMonths:ln,subDays:Aa,subWeeks:Wa,subMonths:Fa,getISOWeek:Ra,setDate:Ba,setMonth:La,setYear:Na,getDate:Pa,getYear:$a})}var R=D(3075),dn=D(6087),$=D(8279),te=D(8966),at=D(2340),cn=D(520);let un=(()=>{class t{constructor(e){this.http=e,this.hostApi=at.N.hostApi}postProduct(e){return this.http.post(this.hostApi,e)}getProduct(){return this.http.get(this.hostApi)}putProduct(e,r){return this.http.put(`${this.hostApi}/${r}`,e)}deleteProduct(e){return this.http.delete(`${this.hostApi}/${e}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(cn.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var mn=D(9814),ve=D(7322),pn=D(7531),ot=D(6856),hn=D(4107),vn=D(508),fn=D(7423);function Ua(t,n){if(1&t&&(i.TgZ(0,"mat-radio-button",24),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.Q6J("value",e),i.xp6(1),i.hij(" ",e," ")}}let gn=(()=>{class t{constructor(e,r,a,o){this.formBuilder=e,this.api=r,this.editData=a,this.dialogRef=o,this.freshnessList=["Automatico","Manual"],this.actionBtn="Save"}ngOnInit(){this.productForm=this.formBuilder.group({freshness:["",R.kI.required],productName:["",R.kI.required],date:["",R.kI.required],category:["",R.kI.required],price:["",R.kI.required],comment:["",R.kI.required]}),this.editData&&(this.actionBtn="Update",this.productForm.controls.freshness.setValue(this.editData.freshness),this.productForm.controls.productName.setValue(this.editData.productName),this.productForm.controls.date.setValue(this.editData.date),this.productForm.controls.category.setValue(this.editData.category),this.productForm.controls.price.setValue(this.editData.price),this.productForm.controls.comment.setValue(this.editData.comment))}addProduct(){this.editData?this.updateProduct():this.productForm.valid&&this.api.postProduct(this.productForm.value).subscribe({next:e=>{console.log("Product added successfuly"),this.productForm.reset(),this.dialogRef.close("save")},error:()=>{console.log("Error while adding the product")}})}updateProduct(){this.api.putProduct(this.productForm.value,this.editData.id).subscribe({next:e=>{console.log("Produto atualizado com sucesso"),this.productForm.reset(),this.dialogRef.close("update")},error:()=>{console.log("Erro no momento de fazer o Update")}})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(R.qu),i.Y36(un),i.Y36(te.WI),i.Y36(te.so))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-dialog"]],decls:45,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup"],[1,"row"],[1,"col-12","my-3"],["formControlName","freshness",1,"example-radio-group"],["class","exemple-radio-button",3,"value",4,"ngFor","ngForOf"],[1,"col-6"],["appearance","outline",1,"example-full-width"],["type","text","formControlName","productName","matInput","","placeholder","Hora"],["appearance","outline"],["formControlName","date","matInput","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],[1,"col-12"],["formControlName","category","placeholder","Atividade"],["value","Atividade em Sobreaviso - SABESP [131]"],["value","Net@ Setup/Net@ Lite [149]"],["value","ExaBeat [59]"],["formControlName","price","matInput","","type","number","placeholder","Mantis/Ref"],["formControlName","comment","matInput",""],["mat-dialog-actions","",3,"align"],["mat-raised-button","","mat-dialog-close",""],["mat-raised-button","","color","primary",3,"click"],[1,"exemple-radio-button",3,"value"]],template:function(e,r){if(1&e&&(i.TgZ(0,"h1",0),i._uU(1,"Registro de Horas"),i.qZA(),i.TgZ(2,"div",1)(3,"form",2)(4,"div",3)(5,"div",4)(6,"mat-radio-group",5),i.YNc(7,Ua,2,2,"mat-radio-button",6),i.qZA()(),i.TgZ(8,"div",7)(9,"mat-form-field",8)(10,"mat-label"),i._uU(11,"Hora"),i.qZA(),i._UZ(12,"input",9),i.qZA()(),i.TgZ(13,"div",7)(14,"mat-form-field",10)(15,"mat-label"),i._uU(16,"Data"),i.qZA(),i._UZ(17,"input",11)(18,"mat-datepicker-toggle",12)(19,"mat-datepicker",null,13),i.qZA()(),i.TgZ(21,"div",14)(22,"mat-form-field",10)(23,"mat-label"),i._uU(24,"Category"),i.qZA(),i.TgZ(25,"mat-select",15)(26,"mat-option",16),i._uU(27,"Atividade em Sobreaviso - SABESP [131]"),i.qZA(),i.TgZ(28,"mat-option",17),i._uU(29,"Net@ Setup/Net@ Lite [149]"),i.qZA(),i.TgZ(30,"mat-option",18),i._uU(31,"ExaBeat [59]"),i.qZA()()()(),i.TgZ(32,"mat-form-field",8)(33,"mat-label"),i._uU(34,"MANTIS/REF"),i.qZA(),i._UZ(35,"input",19),i.qZA(),i.TgZ(36,"mat-form-field",8)(37,"mat-label"),i._uU(38,"Justificativa"),i.qZA(),i._UZ(39,"textarea",20),i.qZA()()()(),i.TgZ(40,"div",21)(41,"button",22),i._uU(42,"Cancelar"),i.qZA(),i.TgZ(43,"button",23),i.NdJ("click",function(){return r.addProduct()}),i._uU(44),i.qZA()()),2&e){const a=i.MAs(20);i.xp6(3),i.Q6J("formGroup",r.productForm),i.xp6(4),i.Q6J("ngForOf",r.freshnessList),i.xp6(10),i.Q6J("matDatepicker",a),i.xp6(1),i.Q6J("for",a),i.xp6(22),i.Q6J("align","end"),i.xp6(4),i.hij(" ",r.actionBtn," ")}},directives:[te.uh,te.xY,R._Y,R.JL,R.sg,mn.VQ,R.JJ,R.u,w.sg,mn.U0,ve.KE,ve.hX,R.Fj,pn.Nt,ot.hl,ot.nW,ve.R9,ot.Mq,hn.gD,vn.ey,R.wV,te.H8,fn.lW,te.ZT],styles:[".mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px}"]}),t})();var st=D(4847);let Ja=(()=>{class t{constructor(e){this.httpClient=e,this.hostApi=at.N.hostApi}getCalendar(e,r){return this.httpClient.get(`${at.N.hostApi}/calendar/${e}/${r}`)}}return t.\u0275fac=function(e){return new(e||t)(i.LFG(cn.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Xa=D(8951),ja=D(5245);function Qa(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Hora"),i.qZA())}function Ga(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(e.productName)}}function qa(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Atividade"),i.qZA())}function Ka(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(e.category)}}function eo(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Data"),i.qZA())}function to(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.ALo(2,"date"),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,e.date))}}function no(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Modo"),i.qZA())}function io(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(e.freshness)}}function ro(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Price"),i.qZA())}function ao(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.ALo(2,"currency"),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(i.lcZ(2,1,e.price))}}function oo(t,n){1&t&&(i.TgZ(0,"th",28),i._uU(1,"Justificativa"),i.qZA())}function so(t,n){if(1&t&&(i.TgZ(0,"td",29),i._uU(1),i.qZA()),2&t){const e=n.$implicit;i.xp6(1),i.Oqu(e.comment)}}function lo(t,n){1&t&&(i.TgZ(0,"th",30),i._uU(1,"Action"),i.qZA())}function co(t,n){if(1&t){const e=i.EpF();i.TgZ(0,"td",29)(1,"button",31),i.NdJ("click",function(){const o=i.CHM(e).$implicit;return i.oxw().editProduct(o)}),i.TgZ(2,"mat-icon"),i._uU(3,"edit"),i.qZA()(),i.TgZ(4,"button",31),i.NdJ("click",function(){const o=i.CHM(e).$implicit;return i.oxw().deleteProduct(o.id)}),i.TgZ(5,"mat-icon"),i._uU(6,"delete"),i.qZA()()()}}function uo(t,n){1&t&&i._UZ(0,"tr",32)}function mo(t,n){1&t&&i._UZ(0,"tr",33)}const po=function(){return[5,10,25,100]},ho={red:{primary:"#ad2121",secondary:"#FAE3E3"},blue:{primary:"#1e90ff",secondary:"#D1E8FF"},yellow:{primary:"#e3bc08",secondary:"#FDF1BA"}};let vo=(()=>{class t{constructor(e,r,a,o){this.dialog=e,this.api=r,this.calendarService=a,this.authService=o,this.displayedColumns=["productName","category","date","freshness","comment","action"],this.CalendarView=Me,this.viewDate=new Date(2022,4,1),this.events=[]}applyFilter(e){this.dataSource.filter=e.target.value.trim().toLowerCase()}openTimePoint(){this.dialog.open(gn,{maxWidth:"30%",autoFocus:!1}).afterClosed().subscribe(e=>{"save"===e&&this.getAllProducts()})}getAllProducts(){this.api.getProduct().subscribe({next:e=>{this.dataSource=new $.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort},error:e=>{console.log("Error while fetching the records !!")}})}editProduct(e){this.dialog.open(gn,{width:"30",data:e}).afterClosed().subscribe(r=>{"update"===r&&this.getAllProducts()})}deleteProduct(e){this.api.deleteProduct(e).subscribe({next:r=>{console.log("Produto deletado com sucesso"),this.getAllProducts()},error:()=>{console.log("Error no momento deletar o produto")}})}ngOnInit(){this.getAllProducts(),this.getEventsCalendar()}getEventsCalendar(e="2022-05-01",r="2022-05-08"){this.calendarService.getCalendar(e,r).subscribe(a=>{console.log(a),a.forEach(o=>{this.events=[...this.events,{start:new Date(o.Start),end:new Date(o.End),title:o.Title,color:Object.assign({},ho[o.Style])}]})})}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(te.uw),i.Y36(un),i.Y36(Ja),i.Y36(Xa.e))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-calendar"]],viewQuery:function(e,r){if(1&e&&(i.Gf(dn.NW,5),i.Gf(st.YE,5)),2&e){let a;i.iGM(a=i.CRH())&&(r.paginator=a.first),i.iGM(a=i.CRH())&&(r.sort=a.first)}},inputs:{locale:"locale"},decls:65,vars:7,consts:[[1,"search-customer"],[1,"container-fluid"],[1,"d-flex","justify-content-end"],["mat-raised-button","",1,"mat-confirm","me-4",3,"click"],[1,"title","d-flex","justify-content-between"],[1,"d-flex"],[1,"row"],[1,"col-3"],["appearance","fill"],["value","one"],[3,"viewDate","events"],["appearance","standard"],["matInput","",3,"keyup"],["input",""],["mat-table","","matSort","","mat-elevation-z8","","mt-4","",3,"dataSource"],["matColumnDef","productName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","category"],["matColumnDef","date"],["matColumnDef","freshness"],["matColumnDef","price"],["matColumnDef","comment"],["matColumnDef","action"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","","mat-sort-header",""],["mat-icon-button","","color","primary",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,r){1&e&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),i.NdJ("click",function(){return r.openTimePoint()}),i.TgZ(4,"mat-icon"),i._uU(5,"description"),i.qZA(),i._uU(6," Registrar "),i.qZA()(),i.TgZ(7,"div",4)(8,"h2",5)(9,"mat-icon"),i._uU(10,"timer"),i.qZA(),i._uU(11," Registro de Atividades"),i.qZA()(),i.TgZ(12,"div",6)(13,"div",7)(14,"mat-form-field",8)(15,"mat-label"),i._uU(16,"Entrada"),i.qZA(),i.TgZ(17,"mat-select")(18,"mat-option",9),i._uU(19,"05/09/2022 08:12:19"),i.qZA()()()(),i.TgZ(20,"div",7)(21,"mat-form-field",8)(22,"mat-label"),i._uU(23,"Sa\xedda"),i.qZA(),i.TgZ(24,"mat-select")(25,"mat-option",9),i._uU(26,"05/09/2022 12:12:19"),i.qZA()()()(),i.TgZ(27,"div",7)(28,"mat-form-field",8)(29,"mat-label"),i._uU(30,"Atividade"),i.qZA(),i.TgZ(31,"mat-select")(32,"mat-option",9),i._uU(33,"Net@ Setup/Net@ Light [149]"),i.qZA()()()()()()(),i._UZ(34,"mwl-calendar-week-view",10),i.TgZ(35,"mat-form-field",11)(36,"mat-label"),i._uU(37,"Filter"),i.qZA(),i.TgZ(38,"input",12,13),i.NdJ("keyup",function(o){return r.applyFilter(o)}),i.qZA()(),i.TgZ(40,"table",14),i.ynx(41,15),i.YNc(42,Qa,2,0,"th",16),i.YNc(43,Ga,2,1,"td",17),i.BQk(),i.ynx(44,18),i.YNc(45,qa,2,0,"th",16),i.YNc(46,Ka,2,1,"td",17),i.BQk(),i.ynx(47,19),i.YNc(48,eo,2,0,"th",16),i.YNc(49,to,3,3,"td",17),i.BQk(),i.ynx(50,20),i.YNc(51,no,2,0,"th",16),i.YNc(52,io,2,1,"td",17),i.BQk(),i.ynx(53,21),i.YNc(54,ro,2,0,"th",16),i.YNc(55,ao,3,3,"td",17),i.BQk(),i.ynx(56,22),i.YNc(57,oo,2,0,"th",16),i.YNc(58,so,2,1,"td",17),i.BQk(),i.ynx(59,23),i.YNc(60,lo,2,0,"th",24),i.YNc(61,co,7,0,"td",17),i.BQk(),i.YNc(62,uo,1,0,"tr",25),i.YNc(63,mo,1,0,"tr",26),i.qZA(),i._UZ(64,"mat-paginator",27)),2&e&&(i.xp6(34),i.Q6J("viewDate",r.viewDate)("events",r.events),i.xp6(6),i.Q6J("dataSource",r.dataSource),i.xp6(22),i.Q6J("matHeaderRowDef",r.displayedColumns),i.xp6(1),i.Q6J("matRowDefColumns",r.displayedColumns),i.xp6(1),i.Q6J("pageSizeOptions",i.DdM(6,po)))},directives:[fn.lW,ja.Hw,ve.KE,ve.hX,hn.gD,vn.ey,Qr,pn.Nt,$.BZ,st.YE,$.w1,$.fO,$.ge,$.Dz,$.ev,st.nU,$.as,$.XQ,$.nj,$.Gk,dn.NW],pipes:[w.uU,w.H9],styles:[""]}),t})();var yn=D(1741);const fo=[{path:"",component:vo}];let go=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[yn.Bz.forChild(fo)],yn.Bz]}),t})(),yo=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=i.oAB({type:t}),t.\u0275inj=i.cJS({imports:[[w.ez,Dn.M,Cn.JB,R.UX,Gr.forRoot({provide:me,useFactory:Za}),go]]}),t})()}}]);